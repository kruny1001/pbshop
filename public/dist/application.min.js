"use strict";function GDocs(){var SCOPE_="https://www.googleapis.com/drive/v2/";this.lastResponse=null,this.__defineGetter__("SCOPE",function(){return SCOPE_}),this.__defineGetter__("DOCLIST_FEED",function(){return SCOPE_+"files/"}),this.__defineGetter__("CREATE_SESSION_URI",function(){return"https://www.googleapis.com/upload/drive/v2/files?uploadType=resumable"}),this.__defineGetter__("DEFAULT_CHUNK_SIZE",function(){return 5242880})}function onError(e){console.log(e)}function writeFile(blob){fs&&fs.root.getDirectory(FOLDERNAME,{create:!0},function(dirEntry){dirEntry.getFile(blob.name,{create:!0,exclusive:!1},function(fileEntry){fileEntry.createWriter(function(fileWriter){fileWriter.onerror=onError,fileWriter.onwriteend=function(){console.log("Write completed.")},fileWriter.write(blob)},onError)},onError)},onError)}function DocsController($scope,$http,gdocs){function successCallbackWithFsCaching(resp){var totalEntries=resp.items.length;console.log(totalEntries),resp.items.forEach(function(entry,i){var doc={title:entry.title,updatedDate:Util.formatDate(entry.modifiedDate),updatedDateFull:entry.modifiedDate,icon:entry.iconLink,alternateLink:entry.alternateLink,size:entry.fileSize?"( "+entry.fileSize+" bytes)":null};doc.iconFilename=doc.icon.substring(doc.icon.lastIndexOf("/")+1),console.log(doc.icon);var fsURL=fs.root.toURL()+FOLDERNAME+"/"+doc.iconFilename;window.webkitResolveLocalFileSystemURL(fsURL,function(entry){console.log("Fetched icon from the FS cache"),doc.icon=entry.toURL(),$scope.docs.push(doc),totalEntries-1==i&&($scope.docs.sort(Util.sortByDate),$scope.$apply(function(){}))},function(){$http.get(doc.icon,{responseType:"blob"}).success(function(blob){console.log("Fetched icon via XHR"),blob.name=doc.iconFilename,writeFile(blob),doc.icon=window.URL.createObjectURL(blob),$scope.docs.push(doc),totalEntries-1==i&&$scope.docs.sort(Util.sortByDate)})})})}$scope.docs=[],$scope.clearDocs=function(){$scope.docs=[]},$scope.fetchDocs=function(retry){if(this.clearDocs(),gdocs.accessToken){var config={params:{alt:"json"},headers:{Authorization:"Bearer "+gdocs.accessToken}};$http.get(gdocs.DOCLIST_FEED,config).success(successCallbackWithFsCaching).error(function(data,status){401==status&&retry&&gdocs.removeCachedAuthToken(gdocs.auth.bind(gdocs,!0,$scope.fetchDocs.bind($scope,!1)))})}},$scope.toggleAuth=function(interactive){gdocs.accessToken?(gdocs.revokeAuthToken(function(){}),this.clearDocs()):gdocs.auth(interactive,function(){$scope.fetchDocs(!1)})},$scope.authButtonLabel=function(){return gdocs.accessToken?"Deauthorize":"Authorize"},$scope.toggleAuth(!1)}var ApplicationConfiguration=function(){var applicationModuleName="mean",applicationModuleVendorDependencies=["ngResource","ngAnimate","ui.router","ui.bootstrap","ui.utils","ui.calendar","mgo-angular-wizard","smart-table","ui.ace","ngSanitize","textAngular","firebase","gdriveapps"],registerModule=function(moduleName){angular.module(moduleName,[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider",function($locationProvider){$locationProvider.hashPrefix("!")}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])}),ApplicationConfiguration.registerModule("andrewkim"),ApplicationConfiguration.registerModule("articles"),ApplicationConfiguration.registerModule("banners"),ApplicationConfiguration.registerModule("core"),ApplicationConfiguration.registerModule("draggable"),ApplicationConfiguration.registerModule("galleries"),ApplicationConfiguration.registerModule("gdriveapps"),ApplicationConfiguration.registerModule("gwas"),ApplicationConfiguration.registerModule("opencpu"),ApplicationConfiguration.registerModule("products"),ApplicationConfiguration.registerModule("reviews"),ApplicationConfiguration.registerModule("shop-list"),ApplicationConfiguration.registerModule("slider-editor"),ApplicationConfiguration.registerModule("template"),ApplicationConfiguration.registerModule("users"),angular.module("andrewkim").config(["$stateProvider",function($stateProvider){$stateProvider.state("firebase-example",{url:"/firebase-example",templateUrl:"modules/andrewkim/views/firebase-example.client.view.html"}).state("slider-editor",{url:"/slider-editor",templateUrl:"modules/andrewkim/views/slider-editor.client.view.html"}).state("a-board",{url:"/a-board",templateUrl:"modules/andrewkim/views/a-board.client.view.html"}).state("a-map",{url:"/a-map",templateUrl:"modules/andrewkim/views/a-map.client.view.html"}).state("a-info",{url:"/a-info",templateUrl:"modules/andrewkim/views/a-info.client.view.html"}).state("a-events",{url:"/a-events",templateUrl:"modules/andrewkim/views/a-event.client.view.html"}).state("a-main",{url:"/a-main",templateUrl:"modules/andrewkim/views/a-main.client.view.html"})}]),angular.module("andrewkim").controller("AAniGeneratorController",["$scope","$element","AniGenerator",function($scope,$element,AniGenerator){$scope.generateAdDirective=function(){var ad=new AniGenerator;ad.addMainFrame($element)}}]),angular.module("andrewkim").controller("AShopController",["$scope","Customers","Products","Rental",function($scope,Customers,Products,Rental){console.log("Customers, Products and Rental class Testing");var products=new Products("Forgetting Sarah Marshall","regular");console.log(products.title);{var customer=new Customers("Brett"),products=new Products("Forgetting Sarah Marshall","regular");new Rental(customer,products,5)}console.log(customer.statement());{var customer=new Customers("Brett"),products=new Products("Forgetting Sarah Marshall","regular");new Rental(customer,products,2)}console.log(customer.statement());{var products=new Products("Forgetting Sarah Marshall","regular");new Rental(customer,products,5)}console.log(customer.statement())}]),angular.module("andrewkim").controller("AboardController",["$scope",function(){}]),angular.module("andrewkim").controller("AeventsController",["$scope",function($scope){var date=new Date,d=date.getDate(),m=date.getMonth(),y=date.getFullYear();$scope.changeTo="Hungarian",$scope.eventSource={url:"http://www.google.com/calendar/feeds/usa__en%40holiday.calendar.google.com/public/basic",className:"gcal-event",currentTimezone:"America/Chicago"},$scope.events=[{title:"All Day Event",start:new Date(y,m,1)},{title:"Long Event",start:new Date(y,m,d-5),end:new Date(y,m,d-2)},{id:999,title:"Repeating Event",start:new Date(y,m,d-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(y,m,d+4,16,0),allDay:!1},{title:"Birthday Party",start:new Date(y,m,d+1,19,0),end:new Date(y,m,d+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/"}],$scope.eventsF=function(start,end,callback){var s=new Date(start).getTime()/1e3,m=(new Date(end).getTime()/1e3,new Date(start).getMonth()),events=[{title:"Feed Me "+m,start:s+5e4,end:s+1e5,allDay:!1,className:["customFeed"]}];callback(events)},$scope.calEventsExt={color:"#f00",textColor:"yellow",events:[{type:"party",title:"Lunch",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:!1},{type:"party",title:"Lunch 2",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:!1},{type:"party",title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/"}]},$scope.alertOnEventClick=function(event){$scope.alertMessage=event.title+" was clicked "},$scope.alertOnDrop=function(event,dayDelta){$scope.alertMessage="Event Droped to make dayDelta "+dayDelta},$scope.alertOnResize=function(event,dayDelta,minuteDelta){$scope.alertMessage="Event Resized to make dayDelta "+minuteDelta},$scope.addRemoveEventSource=function(sources,source){var canAdd=0;angular.forEach(sources,function(value,key){sources[key]===source&&(sources.splice(key,1),canAdd=1)}),0===canAdd&&sources.push(source)},$scope.addEvent=function(){$scope.events.push({title:"Open Sesame",start:new Date(y,m,28),end:new Date(y,m,29),className:["openSesame"]})},$scope.remove=function(index){$scope.events.splice(index,1)},$scope.changeView=function(view,calendar){calendar.fullCalendar("changeView",view)},$scope.renderCalender=function(calendar){calendar.fullCalendar("render")},$scope.uiConfig={calendar:{height:450,editable:!0,header:{left:"title",center:"",right:"today prev,next"},eventClick:$scope.alertOnEventClick,eventDrop:$scope.alertOnDrop,eventResize:$scope.alertOnResize}},$scope.uiConfig2={calendar:{height:450,editable:!1,header:{left:"prev, next",center:"title",right:"agendaWeek AgeendaWeek"},eventClick:$scope.alertOnEventClick,eventDrop:$scope.alertOnDrop,eventResize:$scope.alertOnResize}},$scope.changeLang=function(){"Hungarian"===$scope.changeTo?($scope.uiConfig.calendar.dayNames=["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],$scope.uiConfig.calendar.dayNamesShort=["Vas","Hét","Kedd","Sze","Csüt","Pén","Szo"],$scope.changeTo="English"):($scope.uiConfig.calendar.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$scope.uiConfig.calendar.dayNamesShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$scope.changeTo="Hungarian")},$scope.eventSources=[$scope.events,$scope.eventSource,$scope.eventsF],$scope.eventSources2=[$scope.calEventsExt,$scope.eventsF,$scope.events]}]),angular.module("andrewkim").controller("AinfoController",["$scope",function($scope){$scope.infos=[{title:"주보성인",content:"1821년 충남 당진군에서 신앙심이 깊은 집안에 태어난 그는 1836년, 15세 때 조선인 사제의 필요성을 느끼고 있던 프랑스 신부 모방의 눈에 띄어 신학생으로 중국 유학길에 오른다. 1844년 12월에 부제품을,이듬해 8월 상해 부근 김가항(金家港)신학교 성당에서 한국 최초의 신부로 사제 서품을 받았다. 1845년 페레올 주교와 함께 비밀리에 입국하여 서울과 지방을 순회하며 전 교활동을 펴다가 뜻하지 않게 신분이 탄로나서 체포되고, 서품받은지 겨우 1 년이 되던 해인 1846년 9월 16일 새남터에서 참수형을 당하게 된다. 뛰어난 학덕과 목숨을 바치면서까지 진리를 증거한 김대건 신부의 순교정신은 오늘날 그리스도를 따르는 우리 모두의 귀감이 되고 있다.",img:"modules/andrewkim/img/standrewkim.jpg"},{title:"성당역사"},{title:"역대 신부님"},{title:"사명록",content:"하느님의 은혜와 자비로 이 땅에 창립된 천주교 성 김대건 교회는 하느님을 섬기는 미네소타 지역 한인들의 공동체로서 몸과 마음을 다하여 주 예수 그리스도를 사랑하며, 말씀과 기도에 충실하고, 서로 나누고 섬기는 일치의 공동체를 이루며, 복음을 이웃에 전파하고 실천하여 하느님의 영광을 드러낼 것입니다. 또한 성 안드레아 김대건과 103위 순교 성인의 순교 정신을 본받아 후손들의 신앙교육에 힘써 이 공동체를 항구하게 이어 갈 것입니다. 1998년 9월 20일 <br>We, the parishioners of the Church of St. Andrew Kim, the Korean Catholic community in Minnesota, which was founded through the grace and mercy of God, belong to a faith community called by Jesus to love God with all our hearts and minds, to be faithful to the Words of God and life of prayer, and to be one another as a spiritual family that one in faith and love, thereby revealing the glory of God and proclaiming the Good News. Following the example of St. Andrew Kim and his companion martyrs, we will be witness to the Faith for our descendants and our community to flourish forever. September 20, 1998"},{title:"사목지침"},{title:"단체소개"},{title:"공지사항"},{title:"전자주보"},{title:"성당약도"},{title:"사무실 코너"}]}]),angular.module("andrewkim").constant("YT_event",{PLAY:0,STOP:1,PAUSE:2,STATUS_CHANGE:3}),angular.module("andrewkim").controller("AmainController",["$scope","$sce","Images","YT_event","Authentication","BannersService",function($scope,$sce,Images,YT_event,Authentication,BannersService){$scope.authentication=Authentication,$scope.find=function(){$scope.banners=BannersService.query(function(){$scope.banners.forEach(function(data){""==data.bannerTag&&(data.bannerTag="<div class='core-subtitle'>"+data.name+"</div>")})})},$scope.trustAsHtml=$sce.trustAsHtml,$scope.editorOptions={language:"ru",uiColor:"#000000"},$scope.YT_event=YT_event,$scope.playList=[{id:0,videoid:"YMp8uYvZNZc",name:"Unji and let me go(Remastered Ver.)"},{id:1,videoid:"DRSFtoEyTio",name:"금요일 밤"},{id:2,videoid:"YMp8uYvZNZc",name:"Rapstar"},{id:3,videoid:"91gHDmn3RBw",name:"Rapstar"},{id:4,videoid:"AtbS9CXX2WM",name:"Control the gravity"},{id:5,videoid:"JwkqhfVkk0I",name:"Shake that"}],$scope.selectSong=function(id){$scope.crntSong.id!==id&&($scope.crntSong=$scope.playList[id])},$scope.crntSong=$scope.playList[0],$scope.yt={width:235,height:34,videoid:"YMp8uYvTZNZc",playerStatus:"NOT PLAYING"},$scope.sendControlEvent2=function(ctrlEvent){this.$broadcast(ctrlEvent)},$scope.$on(YT_event.STATUS_CHANGE,function(event,data){$scope.yt.playerStatus=data}),$scope.image=Images.list(function(image){console.log(image)}),$scope.clickButton=function(){$scope.$emit("Click")},$scope.editMode=!1,$scope.clickBtn=function(){$scope.editMode=$scope.editMode?!1:!0}}]),angular.module("andrewkim").controller("AmapController",["$scope",function($scope){$scope.map={center:{latitude:44.8968555,longitude:-93.1819971},zoom:16},$scope.marker={id:0,title:"Andrew Kim Church",coords:{latitude:44.8968555,longitude:-93.1819971},options:{draggable:!1}}}]),angular.module("andrewkim").controller("BannerController",["$scope",function($scope){$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})}}]),angular.module("andrewkim").controller("SampleCtrlController",["$scope","$firebase",function($scope,$firebase){var ref=new Firebase("https://restapi.firebaseio.com/"),sync=$firebase(ref),syncObject=sync.$asObject();syncObject.$bindTo($scope,"data"),$scope.data=sync.$asObject()}]),angular.module("andrewkim").directive("bannerMainFrame",["$document",function(){return{restrict:"EA",transclude:!0,template:'<div ng-transclude><button ng-click="clickBtnFromDirective()">Directive 1-1</button></div>',scope:{EventHandler:"&eventFunction"},compile:function(tElem){return tElem.addClass("bannerMainFrame"),{pre:function(){},post:function(scope,element){scope.editMode=!1,scope.clickBtnFromDirective=function(){console.log("from clickBtn"),scope.editMode===!1?(TweenMax.to(element,.5,{autoAlpha:0,display:"none"}),scope.editMode=!0):(TweenMax.to(element,1,{opacity:1.5}),scope.editMode=!1)},element.bind("click",function(){console.log("element is clicked"),TweenMax.from(element,.5,{scale:1.2})}),element.bind("mouseover",function(){console.log("mouseover"),element.css("cursor","pointer")})}}}}}]),angular.module("andrewkim").directive("bannerSubFrame",[function(){return{template:"<div></div>",restrict:"EA",link:function(scope,element){element.text("this is the bannerSubFrame directive")}}}]),angular.module("andrewkim").directive("compileTemplate",["$compile","$parse",function($compile,$parse){return{restrict:"A",link:function(scope,element,attr){function getStringValue(){return(parsed(scope)||"").toString()}var parsed=$parse(attr.ngBindHtml);scope.$watch(getStringValue,function(){$compile(element,null,-9999)(scope)})}}}]),angular.module("andrewkim").constant("Ddak_event",{OPEN:0,CLOSE:1,PAUSE:2,STATUS_CHANGE:3}),angular.module("andrewkim").directive("ddak",["Ddak_event",function(){return{scope:{banner:"@bannerInfo"},templateUrl:"modules/andrewkim/directives/ddak.html",restrict:"EA",link:function(scope,element){var panel1=$("#panel1"),panel2=$("#panel2"),panel3=$("#panel3"),panel1Text=$("#panel1 h1"),panel2Text=$("#panel2 h2"),info=$("#info"),list=$("#ddak").find("li"),orderNow=$("#orderNow"),tl=new TimelineMax({delay:.5,repeat:2,repeatDelay:3});TweenMax.to($("#banner"),0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(panel1,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(panel2,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(panel3,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(info,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(orderNow,0,{borderRadius:"25px 25px 25px 25px"}),tl.from(panel1,.5,{autoAlpha:0}).from(panel1Text,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).set(panel2,{top:0},"+=1").from(panel2,.2,{autoAlpha:0,scale:1.5}).from(panel2Text,.2,{top:250},"+=0.5").to(panel2Text,.2,{top:250},"+=0.5").set(panel3,{top:0},"final").from(info,.5,{top:250},"final").to(panel2,.5,{top:-60},"final").staggerFrom(list,.3,{autoAlpha:0,left:50},.1,"+=0.2").from(orderNow,.5,{scale:0,autoAlpha:0,ease:Back.easeOut}),scope.clickBtnFromDirective=function(){console.log("from clickBtn"),console.log(scope.banner),scope.editMode===!1?scope.editMode=!0:(TweenMax.to(element,1,{opacity:1}),scope.editMode=!1)}}}}]),angular.module("andrewkim").directive("ehSimple",[function(){return function(scope,element){element.addClass("plain")}}]),angular.module("andrewkim").constant("Ddak_event",{OPEN:0,CLOSE:1,PAUSE:2,STATUS_CHANGE:3}),angular.module("andrewkim").directive("fireya",["Ddak_event",function(){return{templateUrl:"modules/andrewkim/directives/fireya.html",restrict:"E",link:function(scope,element){var $panel1=$("banner-title"),$panel2=$("sub-title"),$panel3=$("banner-info"),$panel1Text=$("banner-title h1"),$panel2Text=$("sub-title h2"),$info=$("info-content"),$list=$("info-content").find("li"),$orderNow=$("info-button"),tl=new TimelineMax({delay:.5,repeat:2,repeatDelay:3});TweenMax.to($("banner-body"),0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($panel1,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($panel2,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($panel3,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($info,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($orderNow,0,{borderRadius:"25px 25px 25px 25px"}),tl.from($panel1,.5,{autoAlpha:0}).from($panel1Text,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).set($panel2,{top:0},"+=1").from($panel2,.2,{autoAlpha:0,scale:1.5}).from($panel2Text,.2,{top:250},"+=0.5").to($panel2Text,.2,{top:250},"+=0.5").set($panel3,{top:0},"final").from($info,.5,{top:250},"final").to($panel2,.5,{top:-60},"final").staggerFrom($list,.3,{autoAlpha:0,left:50},.1,"+=0.2").from($orderNow,.5,{scale:0,autoAlpha:0,ease:Back.easeOut}),scope.clickBtnFromDirective=function(){console.log("from clickBtn"),scope.editMode===!1?(TweenMax.to(element,.5,{autoAlpha:0,display:"none"}),scope.editMode=!0):(TweenMax.to(element,1,{opacity:1}),scope.editMode=!1)}}}}]),angular.module("andrewkim").directive("ganJab",[function(){return{templateUrl:"modules/andrewkim/directives/ganJab.html",restrict:"EA",link:function(){CSSPlugin.defaultTransformPerspective=400;var playBtn=$("#playBtn"),pauseBtn=$("#pauseBtn"),resumeBtn=$("#resumeBtn"),buttons=($("#time"),$("#progress"),$("#timeScale"),[playBtn,pauseBtn,resumeBtn]),lis=$("#ganJab").find("li"),tl=new TimelineLite({delay:.4});TweenLite.set("#demo",{visibility:"visible"}),tl.from("#timeline_txt",.6,{y:-30,opacity:0}).from("#lite_txt",.6,{y:30,opacity:0},"-=0.3").staggerFrom(lis,.2,{y:20,opacity:0},.1).set(buttons,{opacity:.2})}}}]),angular.module("andrewkim").factory("AniGenerator",[function(){return function(name,user,targetLink){this.name=_.uniqueId(),this.user=user,this.targetLink=targetLink,this.addMainFrame=function(element){var crntElement=element;return crntElement.append('<div ng-class={{dd}} banner-main-frame> <button ng-click="clickBtn()">factory</button></subFrame>')},this.isNameUnique=function(){return console.log("isNameUnique"),!0},this.addSubFrame=function(){return"<div ng-class={{well}} banner-sub-frame></subFrame>"}}}]),angular.module("andrewkim").factory("BannersService",["$resource",function($resource){return $resource("/banners",{query:{method:"GET",isArray:!0}})}]),angular.module("andrewkim").factory("Customers",[function(){return function(name){this.id=_.uniqueId(),this.name=name,this.rentals=[],this.charge=function(){return this.rentals.sum("charge")},this.frequentRenterPoints=function(){return this.rentals.sum("frequentRenterPoints")},this.rentals.sum=function(attribute){return _.chain(this).map(function(rental){return rental[attribute]()}).inject(function(sum,value){return sum+value}).value()},this.statement=function(){var result="Rental Record For "+this.name+"\n";return _.each(this.rentals,function(rental){result+=rental.movie.title+" "+rental.charge()+"\n"}),result+="Amount owed is "+this.charge()+"\n",result+="You earned "+this.frequentRenterPoints()+" frequent renter points."}}}]),angular.module("andrewkim").factory("Images",["$http",function(){return{list:function(){return"ddd"}}}]),angular.module("andrewkim").factory("Products",[function(){return function(title,type){this.id=_.uniqueId(),this.title=title,this.type=type,this.charge=function(daysRented){return this[this.chargeFunctionName()](daysRented)},this.chargeFunctionName=function(){return this.type.split(" ").join("")+"Charge"},this.regularCharge=function(daysRented){return daysRented>2?2+1.5*(daysRented-2):2},this.newReleaseCharge=function(daysRented){return 3*daysRented},this.childrensCharge=function(daysRented){return daysRented>3?1.5+1.5*(daysRented-3):1.5}}}]),angular.module("andrewkim").factory("Rental",[function(){return function(customer,movie,daysRented){this.id=_.uniqueId(),this.customer=customer,this.movie=movie,this.daysRented=daysRented,this.customer.rentals.push(this),this.frequentRenterPoints=function(){return"new release"==this.movie.type&&this.daysRented>1?2:1},this.charge=function(){return this.movie.charge(this.daysRented)}}}]),angular.module("articles").run(["Menus",function(Menus){Menus.addMenuItem("topbar","Articles","articles","dropdown","/articles(/create)?"),Menus.addSubMenuItem("topbar","articles","List Articles","articles"),Menus.addSubMenuItem("topbar","articles","New Article","articles/create")}]),angular.module("articles").config(["$stateProvider",function($stateProvider){$stateProvider.state("listArticles",{url:"/articles",templateUrl:"modules/articles/views/list-articles.client.view.html"}).state("createArticle",{url:"/articles/create",templateUrl:"modules/articles/views/create-article.client.view.html"}).state("viewArticle",{url:"/articles/:articleId",templateUrl:"modules/articles/views/view-article.client.view.html"}).state("editArticle",{url:"/articles/:articleId/edit",templateUrl:"modules/articles/views/edit-article.client.view.html"})}]),angular.module("articles").controller("ArticlesController",["$scope","$stateParams","$sce","$location","Authentication","Articles",function($scope,$stateParams,$sce,$location,Authentication,Articles){$scope.authentication=Authentication,$scope.create=function(){var article=new Articles({title:this.title,content:this.content});article.$save(function(response){$location.path("articles/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.title="",this.content=""},$scope.remove=function(article){if(article){article.$remove();for(var i in $scope.articles)$scope.articles[i]===article&&$scope.articles.splice(i,1)}else $scope.article.$remove(function(){$location.path("articles")})},$scope.update=function(){var article=$scope.article;article.$update(function(){$location.path("articles/"+article._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})}}]),angular.module("articles").factory("Articles",["$resource",function($resource){return $resource("articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}})}]),angular.module("banners").run(["Menus",function(Menus){Menus.addMenuItem("topbar","Banners","banners","dropdown","/banners(/create)?"),Menus.addSubMenuItem("topbar","banners","List Banners","banners"),Menus.addSubMenuItem("topbar","banners","New Banner","banners/create")}]),angular.module("banners").config(["$stateProvider",function($stateProvider){$stateProvider.state("listBanners",{url:"/banners",templateUrl:"modules/banners/views/list-banners.client.view.html"}).state("createBanner",{url:"/banners/create",templateUrl:"modules/banners/views/create-banner.client.view.html"}).state("viewBanner",{url:"/banners/:bannerId",templateUrl:"modules/banners/views/view-banner.client.view.html"}).state("editBanner",{url:"/banners/:bannerId/edit",templateUrl:"modules/banners/views/edit-banner.client.view.html"})}]),angular.module("banners").controller("BannersController",["$scope","$stateParams","$location","Authentication","Banners","Products","ProductsBanner",function($scope,$stateParams,$location,Authentication,Banners,Products,ProductsBanner){$scope.authentication=Authentication,$scope.create=function(){var banner=new Banners({name:this.name,bannerTag:this.bannerTag});banner.$save(function(response){$location.path("banners/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name="",this.bannerTag=""},$scope.remove=function(banner){if(banner){banner.$remove();for(var i in $scope.banners)$scope.banners[i]===banner&&$scope.banners.splice(i,1)}else $scope.banner.$remove(function(){$location.path("banners")})},$scope.update=function(){var banner=$scope.banner;banner.$update(function(){$location.path("banners/"+banner._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.banners=Banners.query()},$scope.findOne=function(){$scope.banner=Banners.get({bannerId:$stateParams.bannerId})},$scope.findProductOne=function(){$scope.banner=Banners.get({bannerId:$stateParams.bannerId}),$scope.products=Products.query({bannerId:$stateParams.bannerId})},$scope.toCreateProduct=function(){$location.path("products/create/"+$stateParams.bannerId)},$scope.toEditPoduct=function(){$location.path("products/list/"+$stateParams.bannerId)},$scope.findProductUnderBanner=function(){console.log("banner id is "+$stateParams.bannerId),$scope.products=ProductsBanner.query({},{bannerId:$stateParams.bannerId})}}]),angular.module("banners").factory("Banners",["$resource",function($resource){return $resource("banners/:bannerId",{bannerId:"@_id"},{update:{method:"PUT"},query:{method:"GET",isArray:!0}})}]),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("home",{url:"/",templateUrl:"modules/core/views/home.client.view.html"})}]),angular.module("core").controller("HeaderController",["$scope","Authentication","Menus","AuthTokenFactory",function($scope,Authentication,Menus,AuthTokenFactory){$scope.authentication=Authentication,$scope.isCollapsed=!1,$scope.menu=Menus.getMenu("topbar"),$scope.toggleCollapsibleMenu=function(){$scope.isCollapsed=!$scope.isCollapsed},$scope.$on("$stateChangeSuccess",function(){$scope.isCollapsed=!1}),$scope.signout=function(){AuthTokenFactory.setToken()}}]),angular.module("core").controller("HomeController",["$scope","Authentication","YT_event",function($scope,Authentication,YT_event){$scope.authentication=Authentication,$scope.firstJumbo="first-jumbo-content",$scope.secondJumbo="second-jumbo-content",$scope.thirdJumbo="third-jumbo-content";var texts=$(".core-text-anni"),tl=new TimelineMax({repeat:6,repeatDelay:1,yoyo:!0});tl.staggerTo(texts,.2,{className:"+=superShadow",top:"-=10px",ease:Power1.easeIn},"0.3","start"),$scope.yt={width:600,height:480,videoid:"M7lc1UVf-VE",playerStatus:"NOT PLAYING"},$scope.YT_event=YT_event,$scope.sendControlEvent=function(ctrlEvent){this.$broadcast(ctrlEvent)},$scope.$on(YT_event.STATUS_CHANGE,function(event,data){$scope.yt.playerStatus=data})}]),angular.module("core").controller("PlanController",["$scope","$element","Authentication","Getplans",function($scope,$element,Authentication,Getplans){$scope.find=function(){$scope.plans=Getplans.query()},$scope.find()}]),angular.module("core").factory("Getplans",["$resource",function($resource){return $resource("/articles",{userID:"@_id"},{update:{method:"GET"}})}]),angular.module("core").service("Menus",[function(){this.defaultRoles=["user"],this.menus={};var shouldRender=function(user){if(!user)return this.isPublic;for(var userRoleIndex in user.roles)for(var roleIndex in this.roles)if(this.roles[roleIndex]===user.roles[userRoleIndex])return!0;return!1};this.validateMenuExistance=function(menuId){if(menuId&&menuId.length){if(this.menus[menuId])return!0;throw new Error("Menu does not exists")}throw new Error("MenuId was not provided")},this.getMenu=function(menuId){return this.validateMenuExistance(menuId),this.menus[menuId]},this.addMenu=function(menuId,isPublic,roles){return this.menus[menuId]={isPublic:isPublic||!1,roles:roles||this.defaultRoles,items:[],shouldRender:shouldRender},this.menus[menuId]},this.removeMenu=function(menuId){this.validateMenuExistance(menuId),delete this.menus[menuId]},this.addMenuItem=function(menuId,menuItemTitle,menuItemURL,menuItemType,menuItemUIRoute,isPublic,roles){return this.validateMenuExistance(menuId),this.menus[menuId].items.push({title:menuItemTitle,link:menuItemURL,menuItemType:menuItemType||"item",menuItemClass:menuItemType,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:isPublic||this.menus[menuId].isPublic,roles:roles||this.defaultRoles,items:[],shouldRender:shouldRender}),this.menus[menuId]},this.addSubMenuItem=function(menuId,rootMenuItemURL,menuItemTitle,menuItemURL,menuItemUIRoute,isPublic,roles){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===rootMenuItemURL&&this.menus[menuId].items[itemIndex].items.push({title:menuItemTitle,link:menuItemURL,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:isPublic||this.menus[menuId].isPublic,roles:roles||this.defaultRoles,shouldRender:shouldRender});return this.menus[menuId]},this.removeMenuItem=function(menuId,menuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===menuItemURL&&this.menus[menuId].items.splice(itemIndex,1);return this.menus[menuId]},this.removeSubMenuItem=function(menuId,submenuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)for(var subitemIndex in this.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items[subitemIndex].link===submenuItemURL&&this.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return this.menus[menuId]},this.addMenu("topbar")}]),angular.module("draggable").config(["$stateProvider",function($stateProvider){$stateProvider.state("draggable-main",{url:"/draggable",templateUrl:"modules/draggable/views/draggable-main.client.view.html"})}]),angular.module("draggable").controller("DraggableController",["$scope",function(){function update(){var snap=$snap.prop("checked"),liveSnap=$liveSnap.prop("checked");Draggable.create(".draggable-box",{bounds:$container,edgeResistance:.65,type:"x,y",throwProps:!0,liveSnap:liveSnap,snap:{x:function(endValue){return snap||liveSnap?Math.round(endValue/gridWidth)*gridWidth:endValue},y:function(endValue){return snap||liveSnap?Math.round(endValue/gridHeight)*gridHeight:endValue}}})}function applySnap(){($snap.prop("checked")||$liveSnap.prop("checked"))&&$(".draggable-box").each(function(index,element){TweenLite.to(element,.5,{x:Math.round(element._gsTransform.x/gridWidth)*gridWidth,y:Math.round(element._gsTransform.y/gridHeight)*gridHeight,delay:.1,ease:Power2.easeInOut})}),update()}var i,x,y,$snap=$("#snap"),$liveSnap=$("#liveSnap"),$container=$(".draggable-container"),gridWidth=196,gridHeight=100,gridRows=6,gridColumns=5;for(i=0;gridRows*gridColumns>i;i++)y=Math.floor(i/gridColumns)*gridHeight,x=i*gridWidth%(gridColumns*gridWidth),$("<div/>").css({position:"absolute",border:"1px solid #454545",width:gridWidth-1,height:gridHeight-1,top:y,left:x}).prependTo($container);TweenLite.set($container,{height:gridRows*gridHeight+1,width:gridColumns*gridWidth+1}),TweenLite.set(".draggable-box",{width:gridWidth,height:gridHeight,lineHeight:gridHeight+"px"}),$snap.on("change",applySnap),$liveSnap.on("change",applySnap),update()}]),angular.module("galleries").run(["Menus",function(Menus){Menus.addMenuItem("topbar","Galleries","galleries","dropdown","/galleries(/create)?"),Menus.addSubMenuItem("topbar","galleries","List Galleries","galleries"),Menus.addSubMenuItem("topbar","galleries","New Gallery","galleries/create")}]),angular.module("galleries").config(["$stateProvider",function($stateProvider){$stateProvider.state("menulist",{url:"/menulist",templateUrl:"modules/galleries/views/menulist.client.view.html"}).state("menuform",{url:"/menulist/menuform",templateUrl:"modules/galleries/views/menuform.client.view.html"}).state("test-polymer",{url:"/test-polymer",templateUrl:"modules/galleries/views/test-polymer.client.view.html"}).state("userlist",{url:"/galleries/userlist",templateUrl:"modules/galleries/views/userlist.client.view.html"}).state("gview",{url:"/galleries/gview",templateUrl:"modules/galleries/views/gview.client.view.html"}).state("listGalleries",{url:"/galleries",templateUrl:"modules/galleries/views/list-galleries.client.view.html"}).state("createGallery",{url:"/galleries/create",templateUrl:"modules/galleries/views/create-gallery.client.view.html"}).state("viewGallery",{url:"/galleries/:galleryId",templateUrl:"modules/galleries/views/view-gallery.client.view.html"}).state("editGallery",{url:"/galleries/:galleryId/edit",templateUrl:"modules/galleries/views/edit-gallery.client.view.html"})
}]),angular.module("galleries").controller("GalleriesController",["$scope","$stateParams","$location","Authentication","Galleries",function($scope,$stateParams,$location,Authentication,Galleries){$scope.authentication=Authentication,$scope.examples=[{name:"Example One",content:'<p style="">Pic 1</p><p style=""><img style="height: 103px; width: 118px; position: relative; margin: 0px; resize: none; zoom: 1; display: inline-block; padding: 2px; top: 0px; left: 0px; float: none;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSObpe9xATvc5SpkrWEtGS5ZWlSxmSjHhV3yIE604Arh3aoANOyJPAuGSc" title="" class=""></p><p style="">Pic 2</p><p style=""><img style="height: 130px; width: 117px; position: relative; margin: 0px; resize: none; zoom: 1; display: inline-block; top: 0px; left: 0px; padding: 3px;" src="http://stylonica.com/wp-content/uploads/2014/02/Cute-marshmallow-Wallpapers-HD.jpg" title="" class=""></p><p style=""><br></p><p style=""><br></p><p style=""><br></p><p style=""><br></p>'},{name:"Example Two",content:'<h1>Ut enim consuetudo loquitur, id solum dicitur honestum, quod est populari fama gloriosum.</h1><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Itaque contra est, ac dicitis; <b>Quid censes in Latino fore?</b> </p><p>Hic ambiguo ludimur. <a href="http://loripsum.net/" target="_blank">Disserendi artem nullam habuit.</a> <i>At multis se probavit.</i> Reguli reiciendam; </p><p>Quid autem habent admirationis, cum prope accesseris? Peccata paria. <i>Quid de Pythagora?</i> Illi enim inter se dissentiunt. <a href="http://loripsum.net/" target="_blank">Videamus animi partes, quarum est conspectus illustrior;</a> Utilitatis causa amicitia est quaesita. Duo Reges: constructio interrete. </p>'}],$scope.create=function(){var gallery=new Galleries({name:this.name});gallery.$save(function(response){$location.path("galleries/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name=""},$scope.remove=function(gallery){if(gallery){gallery.$remove();for(var i in $scope.galleries)$scope.galleries[i]===gallery&&$scope.galleries.splice(i,1)}else $scope.gallery.$remove(function(){$location.path("galleries")})},$scope.update=function(){var gallery=$scope.gallery;gallery.$update(function(){$location.path("galleries/"+gallery._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.galleries=Galleries.query()},$scope.findOne=function(){$scope.gallery=Galleries.get({galleryId:$stateParams.galleryId})}}]),angular.module("galleries").controller("GviewController",["$scope","$http","YT_event",function($scope,$http,YT_event){$scope.items=[{id:0,picture:"http://placehold.it/32x32",age:31,name:"Mathews Goff"},{id:1,picture:"http://placehold.it/32x32",age:36,name:"Collins Alston"},{id:2,picture:"http://placehold.it/32x32",age:27,name:"Jasmine Rollins"},{id:3,picture:"http://placehold.it/32x32",age:32,name:"Julie Jefferson"},{id:4,picture:"http://placehold.it/32x32",age:23,name:"Wilder King"},{id:5,picture:"http://placehold.it/32x32",age:23,name:"Stanley Moore"},{id:6,picture:"http://placehold.it/32x32",age:36,name:"Reynolds Bishop"},{id:7,picture:"http://placehold.it/32x32",age:26,name:"Bryant Flowers"},{id:8,picture:"http://placehold.it/32x32",age:38,name:"Jenifer Martinez"},{id:9,picture:"http://placehold.it/32x32",age:40,name:"Mcguire Pittman"},{id:10,picture:"http://placehold.it/32x32",age:34,name:"Valdez Hyde"},{id:11,picture:"http://placehold.it/32x32",age:34,name:"Marla Mayo"},{id:12,picture:"http://placehold.it/32x32",age:30,name:"Brown Ortega"},{id:13,picture:"http://placehold.it/32x32",age:32,name:"Jeannette William"},{id:14,picture:"http://placehold.it/32x32",age:30,name:"Bridges Ashley"},{id:15,picture:"http://placehold.it/32x32",age:33,name:"Latasha Hewitt"},{id:16,picture:"http://placehold.it/32x32",age:35,name:"Alma Sawyer"},{id:17,picture:"http://placehold.it/32x32",age:21,name:"Liz Mcbride"},{id:18,picture:"http://placehold.it/32x32",age:26,name:"Mcintosh Chandler"},{id:19,picture:"http://placehold.it/32x32",age:20,name:"Alford Hartman"},{id:20,picture:"http://placehold.it/32x32",age:29,name:"Tiffany Green"},{id:21,picture:"http://placehold.it/32x32",age:38,name:"Stafford Riggs"},{id:22,picture:"http://placehold.it/32x32",age:40,name:"Elinor Chambers"},{id:23,picture:"http://placehold.it/32x32",age:27,name:"Carly Howard"},{id:24,picture:"http://placehold.it/32x32",age:27,name:"Rosalind Sanchez"},{id:25,picture:"http://placehold.it/32x32",age:28,name:"Jaclyn Shelton"},{id:26,picture:"http://placehold.it/32x32",age:25,name:"Hughes Phelps"},{id:27,picture:"http://placehold.it/32x32",age:36,name:"Rosetta Barrett"},{id:28,picture:"http://placehold.it/32x32",age:29,name:"Jarvis Wong"},{id:29,picture:"http://placehold.it/32x32",age:23,name:"Kerri Pennington"}],$scope.description="This is the descritpion",$scope.name="George & The Dragon",$scope.location="813 W 50th St Minneapolis, MN 55419",$scope.hours=["Mon	11:00 am - 10:00 pm","Tue	11:00 am - 10:00 pm","Wed	11:00 am - 10:00 pm","Thu	11:00 am - 10:00 pm","Fri	11:00 am - 11:00 pm","Sat	11:00 am - 11:00 pm	Open now","Sun	9:00 am - 2:00 pm"],$scope.menus="http://www.ganddpub.com/menus/main.pdf",$scope.introduction="",$scope.yt={width:600,height:480,videoid:"M7lc1UVf-VE",playerStatus:"NOT PLAYING"},$scope.YT_event=YT_event,$scope.sendControlEvent=function(ctrlEvent){this.$broadcast(ctrlEvent)},$scope.$on(YT_event.STATUS_CHANGE,function(event,data){$scope.yt.playerStatus=data}),$scope.onDrag=function(value){$scope.currentRotation=value},$scope.onDragEnd=function(value){$scope.currentRotation=value},$scope.testDraggable=function(){},$scope.expandAnimation=function(element){console.log("!!");var t1=new TimelineMax;t1.to(element.currentTarget,.2,{opacity:.5},"+=0.75"),t1.to(element.currentTarget,.2,{left:"20px",repeat:1,yoyo:!0}),t1.to(element.currentTarget,.2,{right:"20px",repeat:1,yoyo:!0}),t1.restart()}}]),angular.module("galleries").controller("MenuformController",["$scope","$upload","$element",function($scope,$upload){$scope.title="Form Steps",$scope.user={name:"Kevin",username:"kruny1001",email:"test@test.com",address:"123 1st st. M 12345"},$scope.submitForm=function(isValid){isValid&&alert("our form is amazing")},$scope.finishedWizard=function(){console.debug("End of Quiz")},$scope.map={center:{latitude:44.9745411,longitude:-93.2472289},zoom:16},$scope.onFileSelect=function($files){for(var i=0;i<$files.length;i++){var file=$files[i];$scope.upload=$upload.upload({url:"server/upload/url",data:{myObj:$scope.myModelObj},file:file}).progress(function(evt){console.log("percent: "+parseInt(100*evt.loaded/evt.total))}).success(function(data){console.log(data)})}},$scope.cells=[{name:"NE",id:1},{name:"NW",id:2},{name:"SE",id:3},{name:"SW",id:4}]}]),angular.module("galleries").controller("MenulistController",["$scope",function($scope){$scope.menuPic=!0,$scope.isHidden=!1,$scope.fadeIt=function(){$scope.isHidden=!$scope.isHidden},$scope.contents=[{title:"Info1",description:"avatar1",pic:"/modules/galleries/img/avatar-01.svg",location:"",Phone:"612-000-0001",AverageScore:5},{title:"Info2",description:"avatar2",pic:"/modules/galleries/img/avatar-02.svg",location:"",Phone:"612-000-0002",AverageScore:5},{title:"Info3",description:"avatar3",pic:"/modules/galleries/img/avatar-03.svg",location:"",Phone:"612-000-0003",AverageScore:5},{title:"Info4",description:"avatar4",pic:"/modules/galleries/img/avatar-04.svg",location:"",Phone:"612-000-0004",AverageScore:5},{title:"Info5",description:"avatar5",pic:"/modules/galleries/img/avatar-05.svg",location:"",Phone:"612-000-0005",AverageScore:5},{title:"Info6",description:"avatar6",pic:"/modules/galleries/img/avatar-06.svg",location:"",Phone:"612-000-0006",AverageScore:5},{title:"Info7",description:"avatar",pic:"/modules/galleries/img/avatar-07.svg",location:"",Phone:"612-000-0007",AverageScore:5},{title:"Info6",description:"avatar",pic:"/modules/galleries/img/avatar-08.svg",location:"",Phone:"612-000-0008",AverageScore:5}]}]),angular.module("galleries").controller("TestpolymerController",["$scope","polymerPost",function($scope,polymerPost){$scope.toggleDialog=function(transition){var dialog=document.querySelector("paper-dialog[transition="+transition+"]");dialog.toggle()},$scope.posts=polymerPost.getAllPosts(),$scope.getAllUsers=function(){$scope.posts=polymerPost.getAllPosts()},$scope.getFavorites=function(){$scope.posts=[],$scope.posts.push(polymerPost.getPost(2))},$scope.clickFavorit=function(){console.log("!!")},$scope.testClick=function(){console.log("Clicked Button")}}]),angular.module("galleries").controller("UserlistController",["$scope","testuserlist","ContactService","Authentication","Listusers",function($scope,testuserlist,ContactService,Authentication,Listusers){$scope.authentication=Authentication,$scope.users=testuserlist.users,$scope.contacts=ContactService.list(),$scope.saveContact=function(){ContactService.save($scope.newcontact),$scope.newcontact={}},$scope.delete=function(id){ContactService.delete(id),$scope.newcontact.id===id&&($scope.newcontact={})},$scope.edit=function(id){$scope.newcontact=angular.copy(ContactService.get(id))},$scope.find=function(){$scope.galleries=Listusers.query()}}]),angular.module("galleries").directive("hoverExpandShrink",[function(){return{restrict:"A",link:function(scope,element){element.on("mouseleave",function(){TweenMax.to(element,.5,{scale:1,ease:Back.easeOut})}),element.on("mouseenter",function(){TweenMax.to(element,.5,{scale:1.2,ease:Back.easeOut})})}}}]),angular.module("galleries").directive("mdraggable",function(){return{restrict:"A",scope:{onDragEnd:"&",onDrag:"&"},link:function(scope,element){Draggable.create(element,{type:"rotation",throwProps:!0,onDrag:function(){scope.rotation=this.rotation,scope.$apply(function(){scope.onDrag({rotation:scope.rotation})})},onDragEnd:function(){scope.rotation=this.rotation,scope.$apply(function(){scope.onDragEnd({rotation:scope.rotation})})},snap:function(endValue){return 45*Math.round(endValue/45)}})}}}),angular.module("galleries").directive("hideMe",["$animate",function($animate){return function(scope,element,attrs){scope.$watch(attrs.hideMe,function(newVal){newVal?$animate.addClass(element,"fade"):$animate.removeClass(element,"fade")})}}]).directive("expandMe",["$animate","$window",function($animate){return function(scope,element,attrs){var page=angular.element(window);console.debug(page),scope.$watch(attrs.expandMe,function(newVal){newVal?($animate.addClass(element,"expand"),TweenMax.to(window,1.5,{scrollTo:{y:element.offset().top-60},ease:Back.easeOut})):$animate.removeClass(element,"expand")})}}]).directive("menulist",["$animate",function($animate){return{restrict:"E",scope:{source:"=",picture:"="},templateUrl:"/modules/galleries/directives/menulist/menulist.html",link:function(scope,element,attr){TweenMax.to(element.children().children(),.75,{borderRadius:"0px 20px"}),scope.$watch(attr.hideMe,function(newVal){newVal?$animate.addClass(element,"fade"):$animate.removeClass(element,"fade")})},controller:["$scope","$element",function($scope,$element){$scope.isExpanded=!1,$scope.expandIt=function(){$scope.isExpanded=!$scope.isExpanded},$element.bind("click",function(elem){$scope.picture===!0?($scope.picture=!1,TweenMax.to(elem,2,{opacity:.1})):($scope.picture=!0,TweenMax.to(elem,2,{opacity:1})),$scope.$apply()})}]}}]).animation(".fade",function(){return{addClass:function(element){TweenMax.to(element,2,{rotationY:"+=90",ease:Linear.easeNone}),TweenMax.to(element,2,{opacity:0})},removeClass:function(element){TweenMax.to(element,2,{rotationY:"-=90",ease:Linear.easeNone}),TweenMax.to(element,2,{opacity:1})}}}).animation(".expand",function(){return{addClass:function(element){TweenMax.to(element,1,{width:"100%"}),TweenMax.to(element,1,{height:"300%"});var imageTag=element.find("img"),spanTag=element.find("span");TweenMax.to(imageTag,1,{opacity:.2}),TweenMax.to(spanTag,1,{opacity:.8}),TweenMax.to(spanTag,1,{backgroundColor:"#ffffff"}),TweenMax.to(element,.1,{borderRadius:"0px 0px"})},removeClass:function(element){TweenMax.to(element,1,{width:"30%"}),TweenMax.to(element,1,{height:"20%"});var imageTag=element.find("img"),spanTag=element.find("span");TweenMax.to(imageTag,1,{opacity:1}),TweenMax.to(spanTag,1,{opacity:0}),TweenMax.to(element,.1,{borderRadius:"0px 20px"})}}}),angular.module("galleries").directive("productDescription",[function(){return{templateUrl:"/modules/galleries/directives/product-description/product-description.html",restrict:"E"}}]),angular.module("galleries").directive("quiz",function(){return{restrict:"E",replace:!0,templateUrl:"/modules/galleries/directives/quiz/quiz.html",link:function(scope,elem){elem.bind("mouseover",function(){elem.css("cursor","pointer")})}}}),angular.module("galleries").directive("watchShop",function(){return{restrict:"E",replace:!0,controller:"TestpolymerController",templateUrl:"/modules/galleries/directives/watch-shop/watch-shop.html",link:{pre:function(){},post:function(){}}}}),angular.module("galleries").constant("YT_event",{STOP:0,PLAY:1,PAUSE:2,STATUS_CHANGE:3}),angular.module("galleries").directive("youtube",["$window","YT_event",function($window,YT_event){return{restrict:"E",scope:{height:"@",width:"@",videoid:"@"},template:"<div></div>",link:function(scope,element){var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var player;$window.onYouTubeIframeAPIReady=function(){player=new YT.Player(element.children()[0],{playerVars:{autoplay:0,html5:1,theme:"light",modesbranding:0,color:"white",iv_load_policy:3,showinfo:1,controls:1},height:scope.height,width:scope.width,videoId:scope.videoid,events:{onStateChange:function(event){var message={event:YT_event.STATUS_CHANGE,data:""};switch(event.data){case YT.PlayerState.PLAYING:message.data="PLAYING";break;case YT.PlayerState.ENDED:message.data="ENDED";break;case YT.PlayerState.UNSTARTED:message.data="NOT PLAYING";break;case YT.PlayerState.PAUSED:message.data="PAUSED"}scope.$apply(function(){scope.$emit(message.event,message.data)})}}})},scope.$watch("height + width",function(newValue,oldValue){newValue!==oldValue&&player.setSize(scope.width,scope.height)}),scope.$watch("videoid",function(newValue,oldValue){newValue!==oldValue&&(console.log("id is changed"),player.cueVideoById(scope.videoid),player.playVideo())}),scope.$on(YT_event.STOP,function(){player.seekTo(0),player.stopVideo()}),scope.$on(YT_event.PLAY,function(){player.playVideo()}),scope.$on(YT_event.PAUSE,function(){player.pauseVideo()})}}}]),angular.module("galleries").service("ContactService",[function(){var uid=1,contacts=[{id:0,name:"Kevin",email:"test@test.com",phone:"123-123-1234"}];this.save=function(contact){if(null===contact.id)contact.id=uid++,contacts.push(contact);else for(var i in contacts)contacts[i].id===contact.id&&(contacts[i]=contact)},this.get=function(id){for(var i in contacts)if(contacts[i].id===id)return contacts[i]},this.delete=function(id){for(var i in contacts)contacts[i].id===id&&contacts.splice(i,1)},this.list=function(){return contacts}}]),angular.module("galleries").factory("Galleries",["$resource",function($resource){return $resource("galleries/:galleryId",{galleryId:"@_id"},{update:{method:"PUT"}})}]),angular.module("galleries").factory("menus",["$resource",function($resource){return $resource("menus/:menuId",{menuId:"@_id"},{update:{method:"get"}})}]),angular.module("galleries").factory("polymerPost",function(){function getAllPosts(){return posts}function getPost(uid){var filtered=_.filter(posts,function(c){return c.uid===uid});return filtered[0]}var posts=[{uid:1,text:"Have you heard about the Web Components revolution?",username:"Eric",avatar:"/modules/galleries/img/avatar-01.svg",favorite:!1},{uid:2,text:"Loving this Polymer thing.",username:"Rob",avatar:"/modules/galleries/img/avatar-02.svg",favorite:!1},{uid:3,text:"So last year...",username:"Dimitri",avatar:"/modules/galleries/img/avatar-03.svg",favorite:!1},{uid:4,text:"Pretty sure I came up with that first.",username:"Ada",avatar:"/modules/galleries/img/avatar-07.svg",favorite:!1},{uid:5,text:"Yo, I heard you like components, so I put a component in your component.",username:"Grace",avatar:"/modules/galleries/img/avatar-08.svg",favorite:!1},{uid:6,text:"Centralize, centrailize.",username:"John",avatar:"/modules/galleries/img/avatar-04.svg",favorite:!1},{uid:7,text:"Has anyone seen my cat?",username:"Zelda",avatar:"/modules/galleries/img/avatar-06.svg",favorite:!1},{uid:8,text:"Decentralize!",username:"Norbert",avatar:"/modules/galleries/img/avatar-05.svg",favorite:!1}];return{getAllPosts:getAllPosts,getPost:getPost}}),angular.module("galleries").factory("testuserlist",["$resource",function(){var fac={};return fac.users=["Kevin","CK","Jacob"],fac}]),angular.module("galleries").factory("Listusers",["$resource",function($resource){return $resource("/galleries",{},{update:{method:"GET"}})}]),angular.module("gdriveapps").config(["$stateProvider",function($stateProvider){$stateProvider.state("weather",{url:"/weather",templateUrl:"modules/gdriveapps/views/weather.client.view.html"}).state("listGdriveapps",{url:"/gdriveapps",templateUrl:"modules/gdriveapps/views/list-gdriveapps.client.view.html"}).state("createGdriveapp",{url:"/gdriveapps/create",templateUrl:"modules/gdriveapps/views/create-gdriveapp.client.view.html"}).state("viewGdriveapp",{url:"/gdriveapps/:gdriveappId",templateUrl:"modules/gdriveapps/views/view-gdriveapp.client.view.html"}).state("editGdriveapp",{url:"/gdriveapps/:gdriveappId/edit",templateUrl:"modules/gdriveapps/views/edit-gdriveapp.client.view.html"}).state("gDrive",{url:"/gDrive",templateUrl:"modules/gdriveapps/views/gdrive.html"}).state("gDrive2",{url:"/gDrive2",templateUrl:"modules/gdriveapps/views/storage.html"})}]),angular.module("gdriveapps").controller("DocsController",["$scope","$http","gdocs",function($scope,$http,gdocs){function successCallbackWithFsCaching(resp){var totalEntries=resp.items.length;console.log(totalEntries),resp.items.forEach(function(entry,i){var doc={title:entry.title,updatedDate:Util.formatDate(entry.modifiedDate),updatedDateFull:entry.modifiedDate,icon:entry.iconLink,alternateLink:entry.alternateLink,size:entry.fileSize?"( "+entry.fileSize+" bytes)":null};doc.iconFilename=doc.icon.substring(doc.icon.lastIndexOf("/")+1),console.log(doc.icon);var fsURL=fs.root.toURL()+FOLDERNAME+"/"+doc.iconFilename;window.webkitResolveLocalFileSystemURL(fsURL,function(entry){console.log("Fetched icon from the FS cache"),doc.icon=entry.toURL(),$scope.docs.push(doc),totalEntries-1==i&&($scope.docs.sort(Util.sortByDate),$scope.$apply(function(){}))},function(){$http.get(doc.icon,{responseType:"blob"}).success(function(blob){console.log("Fetched icon via XHR"),blob.name=doc.iconFilename,writeFile(blob),doc.icon=window.URL.createObjectURL(blob),$scope.docs.push(doc),totalEntries-1==i&&$scope.docs.sort(Util.sortByDate)})})})}$scope.test="test_123",$scope.docs=[],$scope.clearDocs=function(){$scope.docs=[]},$scope.fetchDocs=function(retry){if(this.clearDocs(),gdocs.accessToken){var config={params:{alt:"json"},headers:{Authorization:"Bearer "+gdocs.accessToken}};$http.get(gdocs.DOCLIST_FEED,config).success(successCallbackWithFsCaching).error(function(data,status){401==status&&retry&&gdocs.removeCachedAuthToken(gdocs.auth.bind(gdocs,!0,$scope.fetchDocs.bind($scope,!1)))})}},$scope.toggleAuth=function(interactive){gdocs.accessToken?(gdocs.revokeAuthToken(function(){}),this.clearDocs()):gdocs.auth(interactive,function(){$scope.fetchDocs(!1)})},$scope.authButtonLabel=function(){return gdocs.accessToken?"Deauthorize":"Authorize"},$scope.toggleAuth(!1)}]),GDocs.prototype.auth=function(interactive,opt_callback){try{chrome.identity.getAuthToken({interactive:interactive},function(token){token&&(this.accessToken=token,opt_callback&&opt_callback())}.bind(this))}catch(e){console.log(e)}},GDocs.prototype.removeCachedAuthToken=function(opt_callback){if(this.accessToken){var accessToken=this.accessToken;this.accessToken=null,chrome.identity.removeCachedAuthToken({token:accessToken},function(){opt_callback&&opt_callback()})}else opt_callback&&opt_callback()},GDocs.prototype.revokeAuthToken=function(opt_callback){if(this.accessToken){var xhr=new XMLHttpRequest;xhr.open("GET","https://accounts.google.com/o/oauth2/revoke?token="+this.accessToken),xhr.send(),this.removeCachedAuthToken(opt_callback)}},GDocs.prototype.makeRequest=function(method,url,callback,opt_data,opt_headers){var data=opt_data||null,headers=opt_headers||{},xhr=new XMLHttpRequest;xhr.open(method,url,!0),xhr.setRequestHeader("Authorization","Bearer "+this.accessToken);for(var key in headers)xhr.setRequestHeader(key,headers[key]);xhr.onload=function(){this.lastResponse=this.response,callback(this.lastResponse,this)}.bind(this),xhr.onerror=function(){console.log(this,this.status,this.response,this.getAllResponseHeaders())},xhr.send(data)},GDocs.prototype.upload=function(blob,callback,retry){var onComplete=function(response){document.getElementById("main").classList.remove("uploading");var entry=JSON.parse(response).entry;callback.apply(this,[entry])}.bind(this),onError=function(response){if(!retry)throw document.getElementById("main").classList.remove("uploading"),new Error("Error: "+response);this.removeCachedAuthToken(this.auth.bind(this,!0,this.upload.bind(this,blob,callback,!1)))}.bind(this),uploader=new MediaUploader({token:this.accessToken,file:blob,onComplete:onComplete,onError:onError});document.getElementById("main").classList.add("uploading"),uploader.upload()};var CONFIG={clientId:"574563539488-n0vrevgjp3606l20hfk4rqfk1dc8j3qb.apps.googleusercontent.com",developerKey:"AIzaSyBEGA9BOSoo0DF69RNRh9MsMKDxaVlnT_U",scopes:["https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.appdata","https://www.googleapis.com/auth/plus.me"]};angular.module("gdriveapps").value("configGdrive",CONFIG),angular.module("gdriveapps").controller("storage",["$scope","$http","$q","configGdrive","Googledrive","GooglePlus",function($scope,$http,$q,configGdrive,Googledrive,GooglePlus){function handleAuthentication(result){result&&!result.error?($scope.isAuth=!0,$scope.authName="Deauthorize",accessToken=result.access_token,createNewAccountFolder(),setFilePicker()):(console.log(result),console.log(result.error),console.log("fail to authentication")),$scope.$digest()}function setFilePicker(){var filePicker=document.getElementById("filePicker");filePicker.style.display="none",filePicker.style.display="block",filePicker.onchange=uploadFile}function uploadFile(evt){var callback=function(file){console.log("!!File!!"),console.log(file)};gapi.client.load("drive","v2",function(){var file=evt.target.files[0];insertFile(file,callback)})}function insertFile(fileData,callback){var boundary="-------314159265358979323846",delimiter="\r\n--"+boundary+"\r\n",close_delim="\r\n--"+boundary+"--",reader=new FileReader;reader.readAsBinaryString(fileData),reader.onload=function(){var contentType=fileData.type||"application/octet-stream",metadata={title:fileData.name,mimeType:contentType,parents:[{kind:"drive#fileLink",id:"0B8FisuvAYPTfN1o1Q0d4T2JLTk0"}]},base64Data=btoa(reader.result),multipartRequestBody=delimiter+"Content-Type: application/json\r\n\r\n"+JSON.stringify(metadata)+delimiter+"Content-Type: "+contentType+"\r\nContent-Transfer-Encoding: base64\r\n\r\n"+base64Data+close_delim;console.log(multipartRequestBody);var request=gapi.client.request({path:"/upload/drive/v2/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/mixed; boundary="'+boundary+'"'},body:multipartRequestBody});callback||(callback=function(file){console.log(file)}),request.execute(callback)}}function createNewAccountFolder(){var callback=function(resp){console.log(resp.result.items.length),0==resp.result.items.length?$http.get("users/me").success(function(response){console.log(response);var folderName="URI-"+response._id;Googledrive.createFolder(folderName,accessToken)}):(console.log("there is already exist"),$scope.rootGdriveFolderID=resp.result.items[0].id,$scope.$digest())};Googledrive.findFolder(callback)}var accessToken;$scope.authName="Authorize",$scope.isAuth=!1,$scope.init=function(){window.gapi.load("auth",$scope.authenticateWithGoogle),window.gapi.load("picker")},$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes},handleAuthentication)},$scope.setupPicker=function(){function pickerCallback(data){data.action==google.picker.Action.PICKED?($scope.files=data.docs,alert("URL: "+data.docs[0].url),$scope.$digest()):data.action==google.picker.Action.CANCEL&&alert("goodbye")}Googledrive.setupPicker(accessToken,pickerCallback)}}]);var fs=null,FOLDERNAME="test",gDriveApp=angular.module("gDriveApp",[]);gDriveApp.factory("gdocs",function(){{var gdocs=new GDocs;new DnDFileController("body",function(files){angular.element(this).scope();Util.toArray(files).forEach(function(file){gdocs.upload(file,function(){},!0)})})}return gdocs}),DocsController.$inject=["$scope","$http","gdocs"],document.addEventListener("DOMContentLoaded",function(){window.webkitRequestFileSystem(TEMPORARY,1048576,function(localFs){fs=localFs},onError)}),angular.module("gdriveapps").constant("CONFIG",{clientId:"574563539488-pctm7fr21vcetcfpdf9hhaje9q5vepee.apps.googleusercontent.com",apiKey:"AIzaSyAFtN5UMzS3aYUfCgd6JoixOVZRORkM1zw",scopes:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.install"]}),angular.module("gdriveapps").value("config",{clientId:"574563539488-pctm7fr21vcetcfpdf9hhaje9q5vepee.apps.googleusercontent.com",apiKey:"AIzaSyAFtN5UMzS3aYUfCgd6JoixOVZRORkM1zw",scopes:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.install"]}),angular.module("gdriveapps").controller("GdriveappsController",["$scope","$stateParams","$location","Authentication","Gdriveapps",function($scope,$stateParams,$location,Authentication,Gdriveapps){$scope.authentication=Authentication,$scope.create=function(){var gdriveapp=new Gdriveapps({name:this.name});gdriveapp.$save(function(response){$location.path("gdriveapps/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name=""},$scope.remove=function(gdriveapp){if(gdriveapp){gdriveapp.$remove();for(var i in $scope.gdriveapps)$scope.gdriveapps[i]===gdriveapp&&$scope.gdriveapps.splice(i,1)}else $scope.gdriveapp.$remove(function(){$location.path("gdriveapps")})},$scope.update=function(){var gdriveapp=$scope.gdriveapp;gdriveapp.$update(function(){$location.path("gdriveapps/"+gdriveapp._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.gdriveapps=Gdriveapps.query()},$scope.findOne=function(){$scope.gdriveapp=Gdriveapps.get({gdriveappId:$stateParams.gdriveappId})}}]);var googlePlusUserLoader=function(){function disableButton(button){button.setAttribute("disabled","disabled")}function enableButton(button){button.removeAttribute("disabled")}function changeState(newState){switch(state=newState){case STATE_START:enableButton(signin_button),disableButton(xhr_button),disableButton(revoke_button);break;case STATE_ACQUIRING_AUTHTOKEN:sampleSupport.log("Acquiring token..."),disableButton(signin_button),disableButton(xhr_button),disableButton(revoke_button);break;case STATE_AUTHTOKEN_ACQUIRED:disableButton(signin_button),enableButton(xhr_button),enableButton(revoke_button)}}function xhrWithAuth(method,url,interactive,callback){function getToken(){chrome.identity.getAuthToken({interactive:interactive},function(token){return chrome.runtime.lastError?void callback(chrome.runtime.lastError):(access_token=token,void requestStart())})}function requestStart(){var xhr=new XMLHttpRequest;xhr.open(method,url),xhr.setRequestHeader("Authorization","Bearer "+access_token),xhr.onload=requestComplete,xhr.send()}function requestComplete(){401==this.status&&retry?(retry=!1,chrome.identity.removeCachedAuthToken({token:access_token},getToken)):callback(null,this.status,this.response)}var access_token,retry=!0;getToken()}function getUserInfo(interactive){xhrWithAuth("GET","https://www.googleapis.com/plus/v1/people/me",interactive,onUserInfoFetched)}function onUserInfoFetched(error,status,response){if(error||200!=status)changeState(STATE_START);else{changeState(STATE_AUTHTOKEN_ACQUIRED),sampleSupport.log(response);var user_info=JSON.parse(response);populateUserInfo(user_info)}}function populateUserInfo(user_info){user_info_div.innerHTML="Hello "+user_info.displayName,fetchImageBytes(user_info)}function fetchImageBytes(user_info){if(user_info&&user_info.image&&user_info.image.url){var xhr=new XMLHttpRequest;xhr.open("GET",user_info.image.url,!0),xhr.responseType="blob",xhr.onload=onImageFetched,xhr.send()}}function onImageFetched(){if(200==this.status){var imgElem=document.createElement("img"),objUrl=window.webkitURL.createObjectURL(this.response);imgElem.src=objUrl,imgElem.onload=function(){window.webkitURL.revokeObjectURL(objUrl)},user_info_div.insertAdjacentElement("afterbegin",imgElem)}}function interactiveSignIn(){changeState(STATE_ACQUIRING_AUTHTOKEN),chrome.identity.getAuthToken({interactive:!0},function(token){chrome.runtime.lastError?(sampleSupport.log(chrome.runtime.lastError),changeState(STATE_START)):(sampleSupport.log("Token acquired:"+token+". See chrome://identity-internals for details."),changeState(STATE_AUTHTOKEN_ACQUIRED))})}function revokeToken(){user_info_div.innerHTML="",chrome.identity.getAuthToken({interactive:!1},function(current_token){if(!chrome.runtime.lastError){chrome.identity.removeCachedAuthToken({token:current_token},function(){});var xhr=new XMLHttpRequest;xhr.open("GET","https://accounts.google.com/o/oauth2/revoke?token="+current_token),xhr.send(),changeState(STATE_START),sampleSupport.log("Token revoked and removed from cache. Check chrome://identity-internals to confirm.")}})}var signin_button,xhr_button,revoke_button,user_info_div,STATE_START=1,STATE_ACQUIRING_AUTHTOKEN=2,STATE_AUTHTOKEN_ACQUIRED=3,state=STATE_START;return{onload:function(){signin_button=document.querySelector("#signin"),signin_button.addEventListener("click",interactiveSignIn),xhr_button=document.querySelector("#getxhr"),xhr_button.addEventListener("click",getUserInfo.bind(xhr_button,!0)),revoke_button=document.querySelector("#revoke"),revoke_button.addEventListener("click",revokeToken),user_info_div=document.querySelector("#user_info"),getUserInfo(!1)}}}();angular.module("gdriveapps").provider("Weather",function(){this.setApiKey=function(key){key&&(this.apiKey=key)},this.$get=["$q","$http",function($q,$http){var self=this;return{getWeatherForecast:function(city){var d=$q.defer();return $http({method:"GET",url:self.getUrl("forecast",city),cache:!0}).success(function(data){d.resolve(data.forecast.simpleforecast)}).error(function(err){d.reject(err)}),d.promise}}}],this.getUrl=function(type,ext){return"http://api.wunderground.com/api/"+this.apiKey+"/"+type+"/p/"+ext+".json"}}).config(["WeatherProvider",function(WeatherProvider){WeatherProvider.setApiKey("963b4eccel134894a")}]),angular.module("gdriveapps").controller("WeatherController",["$scope","$timeout","Weather",function($scope,$timeout,Weather){$scope.date={};var updateTime=function(){$scope.date.raw=new Date,$timeout(updateTime,1e3)};updateTime(),$scope.weather={},Weather.getWeatherForecast("CA/San_Francisco").then(function(data){$scope.weather.forecast=data})}]),angular.module("gdriveapps").factory("gdocs",[function(){var gdocs=new GDocs;return gdocs}]),angular.module("gdriveapps").factory("Gdriveapps",["$resource",function($resource){return $resource("gdriveapps/:gdriveappId",{gdriveappId:"@_id"},{update:{method:"PUT"}})}]),angular.module("gdriveapps").factory("Googledrive",["configGdrive",function(configGdrive){function createFolder(FolderName,accessToken){var request=gapi.client.request({path:"/drive/v2/files/",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+accessToken},body:{title:FolderName,mimeType:"application/vnd.google-apps.folder"}});
request.execute(function(resp){console.log(resp)})}function findFolder(callback){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({q:"title contains 'URI-'",fields:"items(id,title)"});request.then(function(resp){callback(resp)})})}function getGoogleDriveInfo(){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.about.get();request.execute(function(resp){console.log("Current user name: "+resp.name),console.log("Root folder ID: "+resp.rootFolderId),console.log("Total quota (bytes): "+resp.quotaBytesTotal),console.log("Used quota (bytes): "+resp.quotaBytesUsed)})})}function setupPicker(accessToken,callback){var picker=(new google.picker.PickerBuilder).setOAuthToken(accessToken).setDeveloperKey(configGdrive.developerKey).addView((new google.picker.DocsUploadView).setParent("0B8FisuvAYPTfN1o1Q0d4T2JLTk0")).addView(new google.picker.DocsView).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setCallback(callback).build();picker.setVisible(!0)}function listFolder(){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({maxResults:10,fields:"items(id,owners(displayName,emailAddress,isAuthenticatedUser,kind,permissionId),selfLink)"});request.then(function(resp){console.log("result File list"),console.log(resp)});var request=gapi.client.drive.files.list({maxResults:10,fields:"items(id,owners(displayName,emailAddress,isAuthenticatedUser,kind,permissionId),selfLink)"});request.then(function(resp){console.log("result File list"),console.log(resp)})})}return{createFolder:createFolder,findFolder:findFolder,getGoogleDriveInfo:getGoogleDriveInfo,setupPicker:setupPicker,listFolder:listFolder}}]),angular.module("gdriveapps").factory("GooglePlus",[function(){function callGooglePlus(callback){gapi.client.load("plus","v1").then(function(){var request=gapi.client.plus.people.get({userId:"me"});request.then(callback,function(reason){console.log("Error: "+reason.result.error.message)})})}return{callGooglePlus:callGooglePlus}}]),angular.module("gwas").config(["$stateProvider",function($stateProvider){$stateProvider.state("gwas-data-start",{url:"/gwas-data/gwas-data-start",templateUrl:"modules/gwas/views/gwas-data-start.client.view.html"})}]),angular.module("gwas").controller("GwasdatastartController",["$scope","Gwas",function($scope,Gwas){$scope.rowCollection=[{firstName:"Kevin",lastName:"Son",birthDate:new Date("1987-05-21"),balance:102,email:"whatever@gmail.com"},{firstName:"Kenny",lastName:"Park",birthDate:new Date("1987-04-25"),balance:-2323.22,email:"oufblandou@gmail.com"},{firstName:"Robert",lastName:"Frere",birthDate:new Date("1955-08-27"),balance:42343,email:"raymondef@gmail.com"}],$scope.removeRow=function(row){var index=$scope.rowCollection.indexOf(row);-1!==index&&$scope.rowCollection.splice(index,1)},$scope.find=function(){$scope.Users=Gwas.query()}}]),angular.module("gwas").factory("Gwas",["$resource",function($resource){return $resource("users/all/:userID",{userID:"@_id"},{update:{method:"GET"}})}]),angular.module("opencpu").run(["Menus",function(){}]),angular.module("opencpu").config(["$stateProvider",function($stateProvider){$stateProvider.state("gwas-t1",{url:"/gwas-t1",templateUrl:"modules/opencpu/views/gwas-t1.client.view.html"})}]),angular.module("opencpu").controller("GwasT1Controller",["$scope","Getrresult","Readcsv",function($scope,Getrresult,Readcsv){$scope.example1={src:'library(rCharts)\nhair_eye_male <- subset(as.data.frame(HairEyeColor), Sex == "Male")\nnPlot(Freq ~ Hair, group = "Eye", data = hair_eye_male, type = "multiBarChart")',title:"Multi Bar Chart (NVD3)",content:"I demonstrate my all time favorite d3js library, NVD3, which produces amazing interactive visualizations with little customization."},$scope.example2={src:'library(rCharts)\ndata(economics, package = "ggplot2")\necon <- transform(economics, date = as.character(date))\nmPlot(x = "date", y = c("psavert", "uempmed"), type = "Line", data = econ, pointSize = 0, lineWidth = 1)',title:"Stock Info (Morris)",content:"The next library I will be exploring is MorrisJS"},$scope.example3={src:'library(rCharts)\nrPlot(mpg ~ wt | am + vs, data = mtcars, type = "point", color = "gear")',title:"Stock Info (Morris)",content:"The next library I will be exploring is MorrisJS"},$scope.example4={src:'library(rCharts)\nhPlot(x = "Wr.Hnd", y = "NW.Hnd", data = MASS::survey, type = c("line", "bubble", "scatter"), group = "Clap", size = "Age")',title:"Stock Info (HighCharts)",content:"The next library I will be exploring is HighCharts"};var test=new Readcsv("fileName");test.readFile().then(function(result){console.debug(result)})}]),angular.module("opencpu").directive("rChart",[function(){return{templateUrl:"/modules/opencpu/directives/r-chart.html",scope:{rSource:"="},restrict:"E",link:function(scope,element){scope.aceOptions={theme:"solarized_dark",mode:"r",useWrapMode:!0},ocpu.seturl("//kruny1001.ocpu.io/pbshop/R"),scope.makeChart=function(example){var req=ocpu.call("make_chart",{text:example.src},function(session){element.find("iframe").attr("src",session.getLoc()+"files/output.html")}).fail(function(){alert("Error: "+req.responseText)})},scope.makeChart(scope.rSource)}}}]),angular.module("opencpu").factory("Getrresult",[function(){return function(title,type){this.id=_.uniqueId("movie"),this.title=title,this.type=type,this.charge=function(daysRented){return this[this.chargeFunctionNmae()](daysRented)},this.chargeFunctionName=function(){return this.type.titleize().split(" ").join("").camelize()+"Charge"},this.regularCharge=function(daysRented){return daysRented>2?2+1.5*(daysRented-2):2},this.newReleaseCharge=function(daysRented){return 3*daysRented},this.childrensCharge=function(daysRented){return daysRented>3?1.5+1.5*(daysRented-3):1.5}}}]),angular.module("opencpu").factory("Readcsv",["$http",function($http){return function(fileName){this.id=_.uniqueId("csv"),this.fileName=fileName,this.readFile=function(){var URL="modules/opencpu/data/introduction.json";return $http.get(URL)},this.writeData=function(data){console.debug("wrtieData function is invoked"),console.debug(data)}}}]),angular.module("products").config(["$stateProvider",function($stateProvider){$stateProvider.state("listProducts",{url:"/products",templateUrl:"modules/products/views/list-products.client.view.html"}).state("listProductsUnderBanner",{url:"/products/list/:bannerId",templateUrl:"modules/products/views/list-products-banner.client.view.html"}).state("createProduct",{url:"/products/create/:bannerId",templateUrl:"modules/products/views/create-product.client.view.html"}).state("viewProduct",{url:"/products/:productId",templateUrl:"modules/products/views/view-product.client.view.html"}).state("editProduct",{url:"/products/:productId/edit",templateUrl:"modules/products/views/edit-product.client.view.html"})}]),angular.module("products").controller("ProductsController",["$scope","$stateParams","$location","Authentication","Products","Banners","ProductsBanner",function($scope,$stateParams,$location,Authentication,Products,Banners,ProductsBanner){$scope.authentication=Authentication,$scope.parentId=$stateParams.bannerId,$scope.create=function(){var product=new Products({name:this.name,mainimg:this.mainimg,imgs:this.imgs,price:this.price,description:this.description,parentId:$scope.parentId});product.$save(function(response){$location.path("products/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name="",this.mainimg="",this.imgs="",this.price=0,this.description=""},$scope.remove=function(product){if(product){product.$remove();for(var i in $scope.products)$scope.products[i]===product&&$scope.products.splice(i,1)}else $scope.product.$remove(function(){$location.path("products")})},$scope.update=function(){var product=$scope.product;product.$update(function(){$location.path("products/"+product._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.products=Products.query()},$scope.findBanners=function(){$scope.banners=Banners.query()},$scope.findOne=function(){$scope.product=Products.get({productId:$stateParams.productId})},$scope.findProductUnderBanner=function(){console.log("banner id is "+$scope.parentId),$scope.products=ProductsBanner.query({},{bannerId:$scope.parentId})}}]),angular.module("products").factory("ProductsBanner",["$resource",function($resource){return $resource("products/list/:bannerId",{bannerId:"@bannerId"},{update:{method:"PUT"},query:{method:"GET",isArray:!0}})}]),angular.module("products").factory("Products",["$resource",function($resource){return $resource("products/:productId",{productId:"@_id"},{update:{method:"PUT"}})}]),angular.module("reviews").run(["Menus",function(Menus){Menus.addMenuItem("topbar","Reviews","reviews","dropdown","/reviews(/create)?"),Menus.addSubMenuItem("topbar","reviews","List Reviews","reviews"),Menus.addSubMenuItem("topbar","reviews","New Review","reviews/create")}]),angular.module("reviews").config(["$stateProvider",function($stateProvider){$stateProvider.state("listReviews",{url:"/reviews",templateUrl:"modules/reviews/views/list-reviews.client.view.html"}).state("createReview",{url:"/reviews/create",templateUrl:"modules/reviews/views/create-review.client.view.html"}).state("viewReview",{url:"/reviews/:reviewId",templateUrl:"modules/reviews/views/view-review.client.view.html"}).state("editReview",{url:"/reviews/:reviewId/edit",templateUrl:"modules/reviews/views/edit-review.client.view.html"})}]),angular.module("reviews").controller("ReviewsController",["$scope","$stateParams","$location","Authentication","Reviews",function($scope,$stateParams,$location,Authentication,Reviews){$scope.authentication=Authentication,$scope.create=function(){var review=new Reviews({name:this.name});review.$save(function(response){$location.path("reviews/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name=""},$scope.remove=function(review){if(review){review.$remove();for(var i in $scope.reviews)$scope.reviews[i]===review&&$scope.reviews.splice(i,1)}else $scope.review.$remove(function(){$location.path("reviews")})},$scope.update=function(){var review=$scope.review;review.$update(function(){$location.path("reviews/"+review._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.reviews=Reviews.query()},$scope.findOne=function(){$scope.review=Reviews.get({reviewId:$stateParams.reviewId})}}]),angular.module("reviews").factory("Reviews",["$resource",function($resource){return $resource("reviews/:reviewId",{reviewId:"@_id"},{update:{method:"PUT"}})}]),angular.module("shop-list").config(["$stateProvider",function($stateProvider){$stateProvider.state("products-list",{url:"/products-list",templateUrl:"modules/shop-list/views/products-list.client.view.html"})}]),angular.module("shop-list").controller("ProductslistController",["$scope","$state","$resource","$q","Allproducts","AllBanners","GetPurchaseJWT",function($scope,$state,$resource,$q,Allproducts,AllBanners,GetPurchaseJWT){$scope.products=[],$scope.banners=[],$scope.products=Allproducts.query(),$scope.banners=AllBanners.query(),$scope.editProducts=function(productID){console.log("Product Edit Button"),$state.go("editProduct",{productId:productID})},$scope.deleteProducts=function(productID){console.log("Product Delete Button"),Allproducts.delete({productID:productID}),$scope.products=Allproducts.query()},$scope.zoomIn=function(element){TweenLite.to(element.currentTarget,.5,{scale:5})},$scope.zoomOut=function(element){TweenLite.to(element.currentTarget,.5,{scale:1})},$scope.purchaseProduct=function(productID){GetPurchaseJWT.query({productID:productID}).$promise.then(function(response){console.log(response[0]),google.payments.inapp.buy({parameters:{},jwt:response[0],success:function(){window.alert("success")},failure:function(){window.alert("failure")}})})}}]),angular.module("shop-list").factory("Allproducts",["$resource",function($resource){return $resource("products/:productID",{productID:"@_id"})}]),angular.module("shop-list").factory("AllBanners",["$resource",function($resource){return $resource("banners",{productID:"@_id"})}]),angular.module("shop-list").factory("GetPurchaseJWT",["$resource",function($resource){return $resource("purchase/gw_test/:productID",{productID:"@_id"},{query:{method:"get",isArray:!0}})}]),angular.module("slider-editor").config(["$stateProvider",function($stateProvider){$stateProvider.state("Slidereditor",{url:"/sliderEditor/editor",templateUrl:"modules/slider-editor/views/editor.client.view.html"})}]),angular.module("slider-editor").controller("SlidereditorController",["$scope",function($scope){$scope.title="Slider Editor",$scope.showMe=!0,$scope.initialWidth=200,$scope.initialHeight=200,$scope.addSlider=function(){angular.element.find},$scope.deleteSlider=function(){}}]),angular.module("slider-editor").animation(".show-hide-animation",function(){return{beforeAddClass:function(element,className,done){return"ng-hide"==className?(TweenMax.set(element,{height:0,onComplete:done}),function(){element[0].style.height=""}):void done()},removeClass:function(element,className,done){if("ng-hide"==className){var height=element.height();return element.css("height",0),TweenMax.set(element,{height:height,onComplete:done}),function(){element[0].style.height=""}}done()}}}),angular.module("slider-editor").directive("initialView",[function(){return{template:'<div class="testClass"></div>',restrict:"E",scope:{width:"@widthInit",height:"@heightInit"},link:function(scope,element){var targetInitView=element.children();TweenLite.defaultEase=Power3.easeInOut,TweenLite.set(targetInitView,{height:scope.height,width:scope.width}),TweenLite.set(targetInitView,{backgroundColor:"white"}),TweenLite.set(targetInitView,{xPercent:-50,yPercent:0});new TimelineMax({paused:!0})}}}]),angular.module("template").config(["$stateProvider",function($stateProvider){$stateProvider.state("test-font-animation",{url:"/test-font-animation",templateUrl:"modules/template/views/test-font-animation.client.view.html"}).state("draggable",{url:"/draggable",templateUrl:"modules/template/views/draggable.client.view.html"}).state("set-row-col",{url:"/setrowcol",templateUrl:"modules/template/views/set-row-col.client.view.html"})}]),angular.module("template").controller("DraggableController",["$scope","$element",function(){function update(){Draggable.create(".box",{bounds:container,edgeResistance:.65,type:"x,y",throwProps:!0,liveSnap:liveSnap,snap:{x:function(endValue){return snap||liveSnap?Math.round(endValue/gridWidth)*gridWidth:endValue},y:function(endValue){return snap||liveSnap?Math.round(endValue/gridHeight)*gridHeight:endValue}}})}var i,x,y,snap=angular.element(document.querySelector("#snap")),liveSnap=angular.element(document.querySelector("#liveSnap")),container=angular.element(document.querySelector("#container")),gridWidth=196,gridHeight=100,gridRows=6,gridColumns=5;for(i=0;gridRows*gridColumns>i;i++)y=Math.floor(i/gridColumns)*gridHeight,x=i*gridWidth%(gridColumns*gridWidth);TweenLite.set(container,{height:gridRows*gridHeight+1,width:gridColumns*gridWidth+1}),TweenLite.set(".box",{width:gridWidth,height:gridHeight,lineHeight:gridHeight+"px"}),update()}]),angular.module("template").controller("SetrowcolController",["$scope",function($scope){$scope.title="Set Row and Col"}]),angular.module("template").controller("TestfontanimationController",["$scope",function($scope){$scope.title="Set Row and Col"}]),angular.module("template").directive("bannerFront",[function(){return{templateUrl:"modules/template/directives/banner-front.html",restrict:"E",link:function(scope){function updateSlider(){}var tl=new TimelineLite({onUpdate:updateSlider});tl.set("#content",{visibility:"visible"}).from("h1",.5,{left:100,autoAlpha:0}).from("h2",.5,{left:-100,autoAlpha:0},"-=0.25").from("#feature",.5,{scale:.5,autoAlpha:0},"feature").from("#description",.5,{left:100,autoAlpha:0},"feature+=0.25").staggerFrom("#nav img",.5,{scale:0,rotation:-180,autoAlpha:0},.2,"stagger"),scope.play=function(){1!=tl.progress()?tl.play():tl.restart()},scope.pause=function(){tl.pause()},scope.reverse=function(){tl.reverse()},scope.resume=function(){tl.resume()},scope.restart=function(){tl.restart()}}}}]),angular.module("template").directive("setRowCol",[function(){return{template:"<div></div>",restrict:"E",link:function(scope,element){element.text("this is the setRowCol directive")}}}]),angular.module("users").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication",function($q,$location,Authentication){return{responseError:function(rejection){switch(rejection.status){case 401:Authentication.user=null,$location.path("signin");break;case 403:}return $q.reject(rejection)}}}])}]),angular.module("users").config(["$stateProvider",function($stateProvider){$stateProvider.state("profile",{url:"/settings/profile",templateUrl:"modules/users/views/settings/edit-profile.client.view.html"}).state("password",{url:"/settings/password",templateUrl:"modules/users/views/settings/change-password.client.view.html"}).state("accounts",{url:"/settings/accounts",templateUrl:"modules/users/views/settings/social-accounts.client.view.html"}).state("signup",{url:"/signup",templateUrl:"modules/users/views/signup.client.view.html"}).state("signin",{url:"/signin",templateUrl:"modules/users/views/signin.client.view.html"})}]),angular.module("users").controller("AuthenticationController",["$scope","$http","$location","Authentication","AuthTokenFactory",function($scope,$http,$location,Authentication,AuthTokenFactory){$scope.authentication=Authentication,$scope.authentication.user&&$location.path("/"),$scope.signup=function(){$http.post("/auth/signup",$scope.credentials).success(function(response){$scope.authentication.user=response,$location.path("/")}).error(function(response){$scope.error=response.message})},$scope.signin=function(){$http.post("/auth/signin",$scope.credentials).success(function(response){$scope.authentication.user=response.user,AuthTokenFactory.setToken(response.token),$location.path("/")}).error(function(response){$scope.error=response.message})}}]),angular.module("users").controller("SettingsController",["$scope","$http","$location","Users","Authentication",function($scope,$http,$location,Users,Authentication){$scope.user=Authentication.user,$scope.user||$location.path("/"),$scope.hasConnectedAdditionalSocialAccounts=function(){for(var i in $scope.user.additionalProvidersData)return!0;return!1},$scope.isConnectedSocialAccount=function(provider){return $scope.user.provider===provider||$scope.user.additionalProvidersData&&$scope.user.additionalProvidersData[provider]},$scope.removeUserSocialAccount=function(provider){$scope.success=$scope.error=null,$http.delete("/users/accounts",{params:{provider:provider}}).success(function(response){$scope.success=!0,$scope.user=Authentication.user=response}).error(function(response){$scope.error=response.message})},$scope.updateUserProfile=function(){$scope.success=$scope.error=null;var user=new Users($scope.user);user.$update(function(response){$scope.success=!0,Authentication.user=response},function(response){$scope.error=response.data.message})},$scope.changeUserPassword=function(){$scope.success=$scope.error=null,$http.post("/users/password",$scope.passwordDetails).success(function(){$scope.success=!0,$scope.passwordDetails=null}).error(function(response){$scope.error=response.message})}}]),angular.module("users").factory("AuthTokenFactory",["$window",function($window){function getToken(){return store.getItem(key)}function setToken(token){token?store.setItem(key,token):store.removeItem(key)}var store=$window.localStorage,key="auth-token-kev";return{getToken:getToken,setToken:setToken}}]),angular.module("users").factory("Authentication",[function(){var _this=this;return _this._data={user:window.user},_this._data}]),angular.module("users").factory("Users",["$resource",function($resource){return $resource("users",{},{update:{method:"PUT"}})}]);