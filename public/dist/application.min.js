"use strict";var ApplicationConfiguration=function(){var applicationModuleName="mean",applicationModuleVendorDependencies=["ngResource","ngAnimate","ui.router","ui.bootstrap","ui.utils",,"smart-table",,"ngSanitize","textAngular",,"gdriveapps","ngMaterial","ui.tinymce"],registerModule=function(moduleName){angular.module(moduleName,[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider",function($locationProvider){$locationProvider.hashPrefix("!")}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])}),ApplicationConfiguration.registerModule("andrewkim"),ApplicationConfiguration.registerModule("articles"),ApplicationConfiguration.registerModule("banners"),ApplicationConfiguration.registerModule("core"),ApplicationConfiguration.registerModule("gdriveapps"),ApplicationConfiguration.registerModule("opencpu"),ApplicationConfiguration.registerModule("payments"),ApplicationConfiguration.registerModule("products"),ApplicationConfiguration.registerModule("reviews"),ApplicationConfiguration.registerModule("seller-interface"),ApplicationConfiguration.registerModule("shop-list"),ApplicationConfiguration.registerModule("template"),ApplicationConfiguration.registerModule("users"),angular.module("andrewkim").config(["$stateProvider",function($stateProvider){$stateProvider.state("firebase-example",{url:"/firebase-example",templateUrl:"modules/andrewkim/views/firebase-example.client.view.html"}).state("slider-editor",{url:"/slider-editor",templateUrl:"modules/andrewkim/views/slider-editor.client.view.html"}).state("a-board",{url:"/a-board",templateUrl:"modules/andrewkim/views/a-board.client.view.html"}).state("a-map",{url:"/a-map",templateUrl:"modules/andrewkim/views/a-map.client.view.html"}).state("a-info",{url:"/a-info",templateUrl:"modules/andrewkim/views/a-info.client.view.html"}).state("a-events",{url:"/a-events",templateUrl:"modules/andrewkim/views/a-event.client.view.html"}).state("a-main",{url:"/a-main",templateUrl:"modules/andrewkim/views/a-main.client.view.html"})}]),angular.module("andrewkim").controller("AAniGeneratorController",["$scope","$element","AniGenerator",function($scope,$element,AniGenerator){$scope.generateAdDirective=function(){var ad=new AniGenerator;ad.addMainFrame($element)}}]),angular.module("andrewkim").controller("AShopController",["$scope","Customers","Products","Rental",function($scope,Customers,Products,Rental){console.log("Customers, Products and Rental class Testing");var products=new Products("Forgetting Sarah Marshall","regular");console.log(products.title);{var customer=new Customers("Brett"),products=new Products("Forgetting Sarah Marshall","regular");new Rental(customer,products,5)}console.log(customer.statement());{var customer=new Customers("Brett"),products=new Products("Forgetting Sarah Marshall","regular");new Rental(customer,products,2)}console.log(customer.statement());{var products=new Products("Forgetting Sarah Marshall","regular");new Rental(customer,products,5)}console.log(customer.statement())}]),angular.module("andrewkim").controller("AboardController",["$scope",function(){}]),angular.module("andrewkim").controller("AeventsController",["$scope",function($scope){var date=new Date,d=date.getDate(),m=date.getMonth(),y=date.getFullYear();$scope.changeTo="Hungarian",$scope.eventSource={url:"http://www.google.com/calendar/feeds/usa__en%40holiday.calendar.google.com/public/basic",className:"gcal-event",currentTimezone:"America/Chicago"},$scope.events=[{title:"All Day Event",start:new Date(y,m,1)},{title:"Long Event",start:new Date(y,m,d-5),end:new Date(y,m,d-2)},{id:999,title:"Repeating Event",start:new Date(y,m,d-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(y,m,d+4,16,0),allDay:!1},{title:"Birthday Party",start:new Date(y,m,d+1,19,0),end:new Date(y,m,d+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/"}],$scope.eventsF=function(start,end,callback){var s=new Date(start).getTime()/1e3,m=(new Date(end).getTime()/1e3,new Date(start).getMonth()),events=[{title:"Feed Me "+m,start:s+5e4,end:s+1e5,allDay:!1,className:["customFeed"]}];callback(events)},$scope.calEventsExt={color:"#f00",textColor:"yellow",events:[{type:"party",title:"Lunch",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:!1},{type:"party",title:"Lunch 2",start:new Date(y,m,d,12,0),end:new Date(y,m,d,14,0),allDay:!1},{type:"party",title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/"}]},$scope.alertOnEventClick=function(event){$scope.alertMessage=event.title+" was clicked "},$scope.alertOnDrop=function(event,dayDelta){$scope.alertMessage="Event Droped to make dayDelta "+dayDelta},$scope.alertOnResize=function(event,dayDelta,minuteDelta){$scope.alertMessage="Event Resized to make dayDelta "+minuteDelta},$scope.addRemoveEventSource=function(sources,source){var canAdd=0;angular.forEach(sources,function(value,key){sources[key]===source&&(sources.splice(key,1),canAdd=1)}),0===canAdd&&sources.push(source)},$scope.addEvent=function(){$scope.events.push({title:"Open Sesame",start:new Date(y,m,28),end:new Date(y,m,29),className:["openSesame"]})},$scope.remove=function(index){$scope.events.splice(index,1)},$scope.changeView=function(view,calendar){calendar.fullCalendar("changeView",view)},$scope.renderCalender=function(calendar){calendar.fullCalendar("render")},$scope.uiConfig={calendar:{height:450,editable:!0,header:{left:"title",center:"",right:"today prev,next"},eventClick:$scope.alertOnEventClick,eventDrop:$scope.alertOnDrop,eventResize:$scope.alertOnResize}},$scope.uiConfig2={calendar:{height:450,editable:!1,header:{left:"prev, next",center:"title",right:"agendaWeek AgeendaWeek"},eventClick:$scope.alertOnEventClick,eventDrop:$scope.alertOnDrop,eventResize:$scope.alertOnResize}},$scope.changeLang=function(){"Hungarian"===$scope.changeTo?($scope.uiConfig.calendar.dayNames=["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"],$scope.uiConfig.calendar.dayNamesShort=["Vas","Hét","Kedd","Sze","Csüt","Pén","Szo"],$scope.changeTo="English"):($scope.uiConfig.calendar.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$scope.uiConfig.calendar.dayNamesShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$scope.changeTo="Hungarian")},$scope.eventSources=[$scope.events,$scope.eventSource,$scope.eventsF],$scope.eventSources2=[$scope.calEventsExt,$scope.eventsF,$scope.events]}]),angular.module("andrewkim").controller("AinfoController",["$scope",function($scope){$scope.infos=[{title:"주보성인",content:"1821년 충남 당진군에서 신앙심이 깊은 집안에 태어난 그는 1836년, 15세 때 조선인 사제의 필요성을 느끼고 있던 프랑스 신부 모방의 눈에 띄어 신학생으로 중국 유학길에 오른다. 1844년 12월에 부제품을,이듬해 8월 상해 부근 김가항(金家港)신학교 성당에서 한국 최초의 신부로 사제 서품을 받았다. 1845년 페레올 주교와 함께 비밀리에 입국하여 서울과 지방을 순회하며 전 교활동을 펴다가 뜻하지 않게 신분이 탄로나서 체포되고, 서품받은지 겨우 1 년이 되던 해인 1846년 9월 16일 새남터에서 참수형을 당하게 된다. 뛰어난 학덕과 목숨을 바치면서까지 진리를 증거한 김대건 신부의 순교정신은 오늘날 그리스도를 따르는 우리 모두의 귀감이 되고 있다.",img:"modules/andrewkim/img/standrewkim.jpg"},{title:"성당역사"},{title:"역대 신부님"},{title:"사명록",content:"하느님의 은혜와 자비로 이 땅에 창립된 천주교 성 김대건 교회는 하느님을 섬기는 미네소타 지역 한인들의 공동체로서 몸과 마음을 다하여 주 예수 그리스도를 사랑하며, 말씀과 기도에 충실하고, 서로 나누고 섬기는 일치의 공동체를 이루며, 복음을 이웃에 전파하고 실천하여 하느님의 영광을 드러낼 것입니다. 또한 성 안드레아 김대건과 103위 순교 성인의 순교 정신을 본받아 후손들의 신앙교육에 힘써 이 공동체를 항구하게 이어 갈 것입니다. 1998년 9월 20일 <br>We, the parishioners of the Church of St. Andrew Kim, the Korean Catholic community in Minnesota, which was founded through the grace and mercy of God, belong to a faith community called by Jesus to love God with all our hearts and minds, to be faithful to the Words of God and life of prayer, and to be one another as a spiritual family that one in faith and love, thereby revealing the glory of God and proclaiming the Good News. Following the example of St. Andrew Kim and his companion martyrs, we will be witness to the Faith for our descendants and our community to flourish forever. September 20, 1998"},{title:"사목지침"},{title:"단체소개"},{title:"공지사항"},{title:"전자주보"},{title:"성당약도"},{title:"사무실 코너"}]}]),angular.module("andrewkim").constant("YT_event",{PLAY:0,STOP:1,PAUSE:2,STATUS_CHANGE:3}),angular.module("andrewkim").controller("AmainController",["$scope","$sce","Images","YT_event","Authentication","BannersService",function($scope,$sce,Images,YT_event,Authentication,BannersService){$scope.authentication=Authentication,$scope.find=function(){$scope.banners=BannersService.query(function(){$scope.banners.forEach(function(data){""==data.bannerTag&&(data.bannerTag="<div class='core-subtitle'>"+data.name+"</div>")})})},$scope.trustAsHtml=$sce.trustAsHtml,$scope.editorOptions={language:"ru",uiColor:"#000000"},$scope.YT_event=YT_event,$scope.playList=[{id:0,videoid:"YMp8uYvZNZc",name:"Unji and let me go(Remastered Ver.)"},{id:1,videoid:"DRSFtoEyTio",name:"금요일 밤"},{id:2,videoid:"YMp8uYvZNZc",name:"Rapstar"},{id:3,videoid:"91gHDmn3RBw",name:"Rapstar"},{id:4,videoid:"AtbS9CXX2WM",name:"Control the gravity"},{id:5,videoid:"JwkqhfVkk0I",name:"Shake that"}],$scope.selectSong=function(id){$scope.crntSong.id!==id&&($scope.crntSong=$scope.playList[id])},$scope.crntSong=$scope.playList[0],$scope.yt={width:235,height:34,videoid:"YMp8uYvTZNZc",playerStatus:"NOT PLAYING"},$scope.sendControlEvent2=function(ctrlEvent){this.$broadcast(ctrlEvent)},$scope.$on(YT_event.STATUS_CHANGE,function(event,data){$scope.yt.playerStatus=data}),$scope.image=Images.list(function(image){console.log(image)}),$scope.clickButton=function(){$scope.$emit("Click")},$scope.editMode=!1,$scope.clickBtn=function(){$scope.editMode=$scope.editMode?!1:!0}}]),angular.module("andrewkim").controller("AmapController",["$scope",function($scope){$scope.map={center:{latitude:44.8968555,longitude:-93.1819971},zoom:16},$scope.marker={id:0,title:"Andrew Kim Church",coords:{latitude:44.8968555,longitude:-93.1819971},options:{draggable:!1}}}]),angular.module("andrewkim").controller("BannerController",["$scope",function($scope){$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})}}]),angular.module("andrewkim").controller("SampleCtrlController",["$scope","$firebase",function($scope,$firebase){var ref=new Firebase("https://restapi.firebaseio.com/"),sync=$firebase(ref),syncObject=sync.$asObject();syncObject.$bindTo($scope,"data"),$scope.data=sync.$asObject()}]),angular.module("andrewkim").directive("bannerMainFrame",["$document",function(){return{restrict:"EA",transclude:!0,template:'<div ng-transclude><button ng-click="clickBtnFromDirective()">Directive 1-1</button></div>',scope:{EventHandler:"&eventFunction"},compile:function(tElem){return tElem.addClass("bannerMainFrame"),{pre:function(){},post:function(scope,element){scope.editMode=!1,scope.clickBtnFromDirective=function(){console.log("from clickBtn"),scope.editMode===!1?(TweenMax.to(element,.5,{autoAlpha:0,display:"none"}),scope.editMode=!0):(TweenMax.to(element,1,{opacity:1.5}),scope.editMode=!1)},element.bind("click",function(){console.log("element is clicked"),TweenMax.from(element,.5,{scale:1.2})}),element.bind("mouseover",function(){console.log("mouseover"),element.css("cursor","pointer")})}}}}}]),angular.module("andrewkim").directive("bannerSubFrame",[function(){return{template:"<div></div>",restrict:"EA",link:function(scope,element){element.text("this is the bannerSubFrame directive")}}}]),angular.module("andrewkim").directive("compileTemplate",["$compile","$parse",function($compile,$parse){return{restrict:"A",link:function(scope,element,attr){function getStringValue(){return(parsed(scope)||"").toString()}var parsed=$parse(attr.ngBindHtml);scope.$watch(getStringValue,function(){$compile(element,null,-9999)(scope)})}}}]),angular.module("andrewkim").constant("Ddak_event",{OPEN:0,CLOSE:1,PAUSE:2,STATUS_CHANGE:3}),angular.module("andrewkim").directive("ddak",["Ddak_event",function(){return{scope:{banner:"@bannerInfo"},templateUrl:"modules/andrewkim/directives/ddak.html",restrict:"EA",link:function(scope,element){var panel1=$("#panel1"),panel2=$("#panel2"),panel3=$("#panel3"),panel1Text=$("#panel1 h1"),panel2Text=$("#panel2 h2"),info=$("#info"),list=$("#ddak").find("li"),orderNow=$("#orderNow"),tl=new TimelineMax({delay:.5,repeat:2,repeatDelay:3});TweenMax.to($("#banner"),0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(panel1,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(panel2,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(panel3,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(info,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to(orderNow,0,{borderRadius:"25px 25px 25px 25px"}),tl.from(panel1,.5,{autoAlpha:0}).from(panel1Text,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).set(panel2,{top:0},"+=1").from(panel2,.2,{autoAlpha:0,scale:1.5}).from(panel2Text,.2,{top:250},"+=0.5").to(panel2Text,.2,{top:250},"+=0.5").set(panel3,{top:0},"final").from(info,.5,{top:250},"final").to(panel2,.5,{top:-60},"final").staggerFrom(list,.3,{autoAlpha:0,left:50},.1,"+=0.2").from(orderNow,.5,{scale:0,autoAlpha:0,ease:Back.easeOut}),scope.clickBtnFromDirective=function(){console.log("from clickBtn"),console.log(scope.banner),scope.editMode===!1?scope.editMode=!0:(TweenMax.to(element,1,{opacity:1}),scope.editMode=!1)}}}}]),angular.module("andrewkim").directive("ehSimple",[function(){return function(scope,element){element.addClass("plain")}}]),angular.module("andrewkim").constant("Ddak_event",{OPEN:0,CLOSE:1,PAUSE:2,STATUS_CHANGE:3}),angular.module("andrewkim").directive("fireya",["Ddak_event",function(){return{templateUrl:"modules/andrewkim/directives/fireya.html",restrict:"E",link:function(scope,element){var $panel1=$("banner-title"),$panel2=$("sub-title"),$panel3=$("banner-info"),$panel1Text=$("banner-title h1"),$panel2Text=$("sub-title h2"),$info=$("info-content"),$list=$("info-content").find("li"),$orderNow=$("info-button"),tl=new TimelineMax({delay:.5,repeat:2,repeatDelay:3});TweenMax.to($("banner-body"),0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($panel1,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($panel2,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($panel3,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($info,0,{borderRadius:"0px 0px 25px 25px"}),TweenMax.to($orderNow,0,{borderRadius:"25px 25px 25px 25px"}),tl.from($panel1,.5,{autoAlpha:0}).from($panel1Text,.5,{scale:.5,autoAlpha:0,ease:Back.easeOut}).set($panel2,{top:0},"+=1").from($panel2,.2,{autoAlpha:0,scale:1.5}).from($panel2Text,.2,{top:250},"+=0.5").to($panel2Text,.2,{top:250},"+=0.5").set($panel3,{top:0},"final").from($info,.5,{top:250},"final").to($panel2,.5,{top:-60},"final").staggerFrom($list,.3,{autoAlpha:0,left:50},.1,"+=0.2").from($orderNow,.5,{scale:0,autoAlpha:0,ease:Back.easeOut}),scope.clickBtnFromDirective=function(){console.log("from clickBtn"),scope.editMode===!1?(TweenMax.to(element,.5,{autoAlpha:0,display:"none"}),scope.editMode=!0):(TweenMax.to(element,1,{opacity:1}),scope.editMode=!1)}}}}]),angular.module("andrewkim").directive("ganJab",[function(){return{templateUrl:"modules/andrewkim/directives/ganJab.html",restrict:"EA",link:function(){CSSPlugin.defaultTransformPerspective=400;var playBtn=$("#playBtn"),pauseBtn=$("#pauseBtn"),resumeBtn=$("#resumeBtn"),buttons=($("#time"),$("#progress"),$("#timeScale"),[playBtn,pauseBtn,resumeBtn]),lis=$("#ganJab").find("li"),tl=new TimelineLite({delay:.4});TweenLite.set("#demo",{visibility:"visible"}),tl.from("#timeline_txt",.6,{y:-30,opacity:0}).from("#lite_txt",.6,{y:30,opacity:0},"-=0.3").staggerFrom(lis,.2,{y:20,opacity:0},.1).set(buttons,{opacity:.2})}}}]),angular.module("andrewkim").factory("AniGenerator",[function(){return function(name,user,targetLink){this.name=_.uniqueId(),this.user=user,this.targetLink=targetLink,this.addMainFrame=function(element){var crntElement=element;return crntElement.append('<div ng-class={{dd}} banner-main-frame> <button ng-click="clickBtn()">factory</button></subFrame>')},this.isNameUnique=function(){return console.log("isNameUnique"),!0},this.addSubFrame=function(){return"<div ng-class={{well}} banner-sub-frame></subFrame>"}}}]),angular.module("andrewkim").factory("BannersService",["$resource",function($resource){return $resource("/banners",{query:{method:"GET",isArray:!0}})}]),angular.module("andrewkim").factory("Customers",[function(){return function(name){this.id=_.uniqueId(),this.name=name,this.rentals=[],this.charge=function(){return this.rentals.sum("charge")},this.frequentRenterPoints=function(){return this.rentals.sum("frequentRenterPoints")},this.rentals.sum=function(attribute){return _.chain(this).map(function(rental){return rental[attribute]()}).inject(function(sum,value){return sum+value}).value()},this.statement=function(){var result="Rental Record For "+this.name+"\n";return _.each(this.rentals,function(rental){result+=rental.movie.title+" "+rental.charge()+"\n"}),result+="Amount owed is "+this.charge()+"\n",result+="You earned "+this.frequentRenterPoints()+" frequent renter points."}}}]),angular.module("andrewkim").factory("Images",["$http",function(){return{list:function(){return"ddd"}}}]),angular.module("andrewkim").factory("Products",[function(){return function(title,type){this.id=_.uniqueId(),this.title=title,this.type=type,this.charge=function(daysRented){return this[this.chargeFunctionName()](daysRented)},this.chargeFunctionName=function(){return this.type.split(" ").join("")+"Charge"},this.regularCharge=function(daysRented){return daysRented>2?2+1.5*(daysRented-2):2},this.newReleaseCharge=function(daysRented){return 3*daysRented},this.childrensCharge=function(daysRented){return daysRented>3?1.5+1.5*(daysRented-3):1.5}}}]),angular.module("andrewkim").factory("Rental",[function(){return function(customer,movie,daysRented){this.id=_.uniqueId(),this.customer=customer,this.movie=movie,this.daysRented=daysRented,this.customer.rentals.push(this),this.frequentRenterPoints=function(){return"new release"==this.movie.type&&this.daysRented>1?2:1},this.charge=function(){return this.movie.charge(this.daysRented)}}}]),angular.module("articles").run(["Menus",function(){}]),angular.module("articles").config(["$stateProvider",function($stateProvider){$stateProvider.state("listArticles",{url:"/articles",templateUrl:"modules/articles/views/list-articles.client.view.html"}).state("createArticle",{url:"/articles/create",templateUrl:"modules/articles/views/create-article.client.view.html"}).state("viewArticle",{url:"/articles/:articleId",templateUrl:"modules/articles/views/view-article.client.view.html"}).state("editArticle",{url:"/articles/:articleId/edit",templateUrl:"modules/articles/views/edit-article.client.view.html"})}]),angular.module("articles").controller("ArticlesController",["$scope","$stateParams","$sce","$location","Authentication","Articles",function($scope,$stateParams,$sce,$location,Authentication,Articles){$scope.authentication=Authentication,$scope.create=function(){var article=new Articles({title:this.title,content:this.content});article.$save(function(response){$location.path("articles/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.title="",this.content=""},$scope.remove=function(article){if(article){article.$remove();for(var i in $scope.articles)$scope.articles[i]===article&&$scope.articles.splice(i,1)}else $scope.article.$remove(function(){$location.path("articles")})},$scope.update=function(){var article=$scope.article;article.$update(function(){$location.path("articles/"+article._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})}}]),angular.module("articles").factory("Articles",["$resource",function($resource){return $resource("articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}})}]),angular.module("banners").run(["Menus",function(Menus){Menus.addMenuItem("topbar","Banners","banners","dropdown","/banners(/create)?"),Menus.addSubMenuItem("topbar","banners","List Banners","banners")}]),angular.module("banners").config(["$stateProvider",function($stateProvider){$stateProvider.state("listBanners",{url:"/banners",templateUrl:"modules/banners/views/list-banners.client.view.html"}).state("createBanner",{url:"/banners/create",templateUrl:"modules/banners/views/create-banner.client.view.html"}).state("viewBanner",{url:"/banners/:bannerId",templateUrl:"modules/banners/views/view-banner.client.view.html"}).state("editBanner",{url:"/banners/:bannerId/edit",templateUrl:"modules/banners/views/edit-banner.client.view.html"})}]),angular.module("banners").controller("BannersController",["$scope","$stateParams","$location","Authentication","Banners","Products","ProductsBanner",function($scope,$stateParams,$location,Authentication,Banners,Products,ProductsBanner){$scope.authentication=Authentication,$scope.create=function(){var banner=new Banners({name:this.name,bannerTag:this.bannerTag});banner.$save(function(response){$location.path("banners/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name="",this.bannerTag=""},$scope.remove=function(banner){if(banner){banner.$remove();for(var i in $scope.banners)$scope.banners[i]===banner&&$scope.banners.splice(i,1)}else $scope.banner.$remove(function(){$location.path("banners")})},$scope.update=function(){var banner=$scope.banner;banner.$update(function(){$location.path("banners/"+banner._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.banners=Banners.query()},$scope.findOne=function(){$scope.banner=Banners.get({bannerId:$stateParams.bannerId})},$scope.findProductOne=function(){$scope.banner=Banners.get({bannerId:$stateParams.bannerId}),$scope.products=Products.query({bannerId:$stateParams.bannerId})},$scope.toCreateProduct=function(){$location.path("products/create/"+$stateParams.bannerId)},$scope.toEditPoduct=function(){$location.path("products/list/"+$stateParams.bannerId)},$scope.findProductUnderBanner=function(){console.log("banner id is "+$stateParams.bannerId),$scope.products=ProductsBanner.query({},{bannerId:$stateParams.bannerId})}}]),angular.module("banners").factory("Banners",["$resource",function($resource){return $resource("banners/:bannerId",{bannerId:"@_id"},{update:{method:"PUT"},query:{method:"GET",isArray:!0}})}]),angular.module("banners").factory("BannerByUserId",["$resource",function($resource){return $resource("banners/find/:userId",{userId:"@userId"},{update:{method:"PUT"},query:{method:"GET",isArray:!0}})}]),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("home",{url:"/dev",templateUrl:"modules/core/views/home.client.view.html"})}]),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{plugins:"image, link, fullscreen, code, table, contextmenu, media",contextmenu:"link media image inserttable | cell row column deletetable",image_advtab:!0,image_class_list:[{title:"Responsive Size",value:"img-responsive"}],fullscreen_new_window:!0,fullscreen_settings:{theme_advanced_path_location:"top"}}).directive("uiTinymce",["uiTinymceConfig",function(uiTinymceConfig){uiTinymceConfig=uiTinymceConfig||{};var generatedIds=0;return{require:"ngModel",link:function(scope,elm,attrs,ngModel){var expression,options,tinyInstance;attrs.id||attrs.$set("id","uiTinymce"+generatedIds++),options={setup:function(ed){ed.on("init",function(){ngModel.$render()}),ed.on("ExecCommand",function(){ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()}),ed.on("KeyUp",function(){console.log(ed.isDirty()),ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()})},mode:"exact",elements:attrs.id},expression=attrs.uiTinymce?scope.$eval(attrs.uiTinymce):{},angular.extend(options,uiTinymceConfig,expression),setTimeout(function(){tinymce.init(options)}),ngModel.$render=function(){tinyInstance||(tinyInstance=tinymce.get(attrs.id)),tinyInstance&&tinyInstance.setContent(ngModel.$viewValue||"")}}}}]),angular.module("core").controller("HeaderController",["$scope","Authentication","Menus","AuthTokenFactory",function($scope,Authentication,Menus,AuthTokenFactory){$scope.authentication=Authentication,$scope.isCollapsed=!1,$scope.menu=Menus.getMenu("topbar"),$scope.toggleCollapsibleMenu=function(){$scope.isCollapsed=!$scope.isCollapsed},$scope.$on("$stateChangeSuccess",function(){$scope.isCollapsed=!1}),$scope.signout=function(){AuthTokenFactory.setToken()}}]),angular.module("core").controller("HomeController",["$scope","Authentication","YT_event",function($scope,Authentication,YT_event){$scope.authentication=Authentication,$scope.firstJumbo="first-jumbo-content",$scope.secondJumbo="second-jumbo-content",$scope.thirdJumbo="third-jumbo-content";var texts=$(".core-text-anni"),tl=new TimelineMax({repeat:6,repeatDelay:1,yoyo:!0});tl.staggerTo(texts,.2,{className:"+=superShadow",top:"-=10px",ease:Power1.easeIn},"0.3","start"),$scope.yt={width:600,height:480,videoid:"M7lc1UVf-VE",playerStatus:"NOT PLAYING"},$scope.YT_event=YT_event,$scope.sendControlEvent=function(ctrlEvent){this.$broadcast(ctrlEvent)},$scope.$on(YT_event.STATUS_CHANGE,function(event,data){$scope.yt.playerStatus=data})}]),angular.module("core").controller("PlanController",["$scope","$element","Authentication","Getplans",function($scope,$element,Authentication,Getplans){$scope.find=function(){$scope.plans=Getplans.query()},$scope.find()}]),angular.module("core").factory("Getplans",["$resource",function($resource){return $resource("/articles",{userID:"@_id"},{update:{method:"GET"}})}]),angular.module("core").service("Menus",[function(){this.defaultRoles=["user"],this.menus={};var shouldRender=function(user){if(!user)return this.isPublic;for(var userRoleIndex in user.roles)for(var roleIndex in this.roles)if(this.roles[roleIndex]===user.roles[userRoleIndex])return!0;return!1};this.validateMenuExistance=function(menuId){if(menuId&&menuId.length){if(this.menus[menuId])return!0;throw new Error("Menu does not exists")}throw new Error("MenuId was not provided")},this.getMenu=function(menuId){return this.validateMenuExistance(menuId),this.menus[menuId]},this.addMenu=function(menuId,isPublic,roles){return this.menus[menuId]={isPublic:isPublic||!1,roles:roles||this.defaultRoles,items:[],shouldRender:shouldRender},this.menus[menuId]},this.removeMenu=function(menuId){this.validateMenuExistance(menuId),delete this.menus[menuId]},this.addMenuItem=function(menuId,menuItemTitle,menuItemURL,menuItemType,menuItemUIRoute,isPublic,roles){return this.validateMenuExistance(menuId),this.menus[menuId].items.push({title:menuItemTitle,link:menuItemURL,menuItemType:menuItemType||"item",menuItemClass:menuItemType,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:isPublic||this.menus[menuId].isPublic,roles:roles||this.defaultRoles,items:[],shouldRender:shouldRender}),this.menus[menuId]},this.addSubMenuItem=function(menuId,rootMenuItemURL,menuItemTitle,menuItemURL,menuItemUIRoute,isPublic,roles){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===rootMenuItemURL&&this.menus[menuId].items[itemIndex].items.push({title:menuItemTitle,link:menuItemURL,uiRoute:menuItemUIRoute||"/"+menuItemURL,isPublic:isPublic||this.menus[menuId].isPublic,roles:roles||this.defaultRoles,shouldRender:shouldRender});return this.menus[menuId]},this.removeMenuItem=function(menuId,menuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===menuItemURL&&this.menus[menuId].items.splice(itemIndex,1);return this.menus[menuId]},this.removeSubMenuItem=function(menuId,submenuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)for(var subitemIndex in this.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items[subitemIndex].link===submenuItemURL&&this.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return this.menus[menuId]},this.addMenu("topbar")}]),angular.module("gdriveapps").config(["$stateProvider",function($stateProvider){$stateProvider.state("weather",{url:"/weather",templateUrl:"modules/gdriveapps/views/weather.client.view.html"}).state("listGdriveapps",{url:"/gdriveapps",templateUrl:"modules/gdriveapps/views/list-gdriveapps.client.view.html"}).state("createGdriveapp",{url:"/gdriveapps/create",templateUrl:"modules/gdriveapps/views/create-gdriveapp.client.view.html"}).state("viewGdriveapp",{url:"/gdriveapps/:gdriveappId",templateUrl:"modules/gdriveapps/views/view-gdriveapp.client.view.html"}).state("editGdriveapp",{url:"/gdriveapps/:gdriveappId/edit",templateUrl:"modules/gdriveapps/views/edit-gdriveapp.client.view.html"}).state("gDrive",{url:"/gDrive",templateUrl:"modules/gdriveapps/views/gdrive.html"}).state("gDrive2",{"abstract":!0,url:"/gDrive2",templateUrl:"modules/gdriveapps/views/storage.html"}).state("gDrive2.dashboard",{url:"/dashboard",templateUrl:"modules/gdriveapps/template/gDrive2.dashboard.tmp.html"}).state("gDrive2.addNewProduct",{url:"/addNewProduct",templateUrl:"modules/gdriveapps/template/gDrive2.addNewProduct.tmp.html"}).state("gDrive2.editProduct",{url:"/editProduct/:productId",templateUrl:"modules/gdriveapps/template/gDrive2.editProduct.tmp.html"}).state("gDrive2.historyPayment",{url:"/historyPayment",templateUrl:"modules/gdriveapps/template/gDrive2.historyPayment.tmp.html"})}]),angular.module("gdriveapps").controller("DocsController",["$scope","$http","gdocs",function($scope,$http,gdocs){function successCallbackWithFsCaching(resp){var totalEntries=resp.items.length;console.log(totalEntries),resp.items.forEach(function(entry,i){var doc={title:entry.title,updatedDate:Util.formatDate(entry.modifiedDate),updatedDateFull:entry.modifiedDate,icon:entry.iconLink,alternateLink:entry.alternateLink,size:entry.fileSize?"( "+entry.fileSize+" bytes)":null};doc.iconFilename=doc.icon.substring(doc.icon.lastIndexOf("/")+1),console.log(doc.icon);var fsURL=fs.root.toURL()+FOLDERNAME+"/"+doc.iconFilename;window.webkitResolveLocalFileSystemURL(fsURL,function(entry){console.log("Fetched icon from the FS cache"),doc.icon=entry.toURL(),$scope.docs.push(doc),totalEntries-1==i&&($scope.docs.sort(Util.sortByDate),$scope.$apply(function(){}))},function(){$http.get(doc.icon,{responseType:"blob"}).success(function(blob){console.log("Fetched icon via XHR"),blob.name=doc.iconFilename,writeFile(blob),doc.icon=window.URL.createObjectURL(blob),$scope.docs.push(doc),totalEntries-1==i&&$scope.docs.sort(Util.sortByDate)})})})}$scope.test="test_123",$scope.docs=[],$scope.clearDocs=function(){$scope.docs=[]},$scope.fetchDocs=function(retry){if(this.clearDocs(),gdocs.accessToken){var config={params:{alt:"json"},headers:{Authorization:"Bearer "+gdocs.accessToken}};$http.get(gdocs.DOCLIST_FEED,config).success(successCallbackWithFsCaching).error(function(data,status){401==status&&retry&&gdocs.removeCachedAuthToken(gdocs.auth.bind(gdocs,!0,$scope.fetchDocs.bind($scope,!1)))})}},$scope.toggleAuth=function(interactive){gdocs.accessToken?(gdocs.revokeAuthToken(function(){}),this.clearDocs()):gdocs.auth(interactive,function(){$scope.fetchDocs(!1)})},$scope.authButtonLabel=function(){return gdocs.accessToken?"Deauthorize":"Authorize"},$scope.toggleAuth(!1)}]),angular.module("gdriveapps").controller("AddNewProductController",["$scope","$stateParams","Authentication","Products","BannerByUserId",function($scope,$stateParams,Authentication,Products,BannerByUserId){$scope.authentication=Authentication,$scope.parentId=$stateParams.bannerId,$scope.create=function(){var product=new Products({name:this.name,mainimg:this.mainimg,imgs:this.imgs,price:this.price,description:this.description,parentId:$scope.selectedBanner._id,detailDesc:$scope.detailDesc});
product.$save(function(){alert("Successfully Added"),$scope.error=""},function(errorResponse){$scope.error=errorResponse.data.message}),this.name="",this.mainimg="",this.imgs="",this.price=0,this.description=""},$scope.update=function(){var product=$scope.product;product.$update(function(){alert("updated successfully")},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.products=Products.query()},$scope.findBanners=function(){$scope.banners=Banners.query()},$scope.findOne=function(){Products.get({productId:$stateParams.productId}).$promise.then(function(result){$scope.product=result,$scope.selectOption()})},$scope.findProductUnderBanner=function(){console.log("banner id is "+$scope.parentId),$scope.products=ProductsBanner.query({},{bannerId:$scope.parentId})},$scope.getBanners=function(){$scope.banners=BannerByUserId.query({userId:Authentication.user._id})},$scope.selectOption=function(){$scope.selectedBanner=$scope.product.parentId}}]);var CONFIG={clientId:"574563539488-n0vrevgjp3606l20hfk4rqfk1dc8j3qb.apps.googleusercontent.com",developerKey:"AIzaSyBEGA9BOSoo0DF69RNRh9MsMKDxaVlnT_U",scopes:["https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.appdata","https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/paymentssandbox.make_payments"]};angular.module("gdriveapps").value("configGdrive",CONFIG),angular.module("gdriveapps").controller("gdrive",["$scope","$state","$http","$q","$mdDialog","$mdSidenav","configGdrive","Googledrive","GooglePlus","Products","Authentication","ProductByUserId",function($scope,$state,$http,$q,$mdDialog,$mdSidenav,configGdrive,Googledrive,GooglePlus,Products,Authentication,ProductByUserId){function handleAuthentication(result){result&&!result.error?($scope.isAuth=!0,$scope.authName="Deauthorize",accessToken=result.access_token,createNewAccountFolder(),setFilePicker()):(console.log(result),console.log(result.error),console.log("fail to authentication")),$scope.$digest()}function createNewAccountFolder(){var callback=function(resp){console.log(resp.result.items.length),0==resp.result.items.length?$http.get("users/me").success(function(response){console.log(response);var folderName="URI-"+response._id;Googledrive.createFolder(folderName,accessToken)}):(console.log("there is already exist"),$scope.rootGdriveFolderID=resp.result.items[0].id,$scope.$digest())};Googledrive.findFolder(callback)}function newProductDialog($scope,$mdDialog){$scope.hide=function(){$mdDialog.hide()},$scope.cancel=function(){$mdDialog.cancel()},$scope.answer=function(answer){$mdDialog.hide(answer)}}$scope.authentication=Authentication,$scope.goChildView=function(stateName){$state.go(stateName),$mdSidenav("left").close()},$scope.redirect=function(stateName,param){$state.go(stateName,{productId:param}),$mdSidenav("left").close()},$http({url:"http://drive.google.com/uc?export=view&id=0B8FisuvAYPTfZl9VUnEwcGdFdHc",method:"GET",headers:{"Content-Type":"image/jpeg"}}).success(function(data){console.log(data)}),$scope.data={},$scope.data.cb1=!0,$scope.data.cb2=!1,$scope.user={title:"Technical Program Manager",email:"ipsum@lorem.com",firstName:"Naomi",lastName:"",company:"Google",address:"1600 Amphitheatre Pkwy",city:"Mountain View",state:"CA",country:"USA",postalCode:"94043"},$scope.todos=[{product_uri:"http://drive.google.com/uc?export=view&id=0B8FisuvAYPTfaTJnaHRWWmozRUU",name:"명이나물",who:"명이게이",when:"3:08PM",notes:"아나니 아나니 아나니리요 아나니 아나니 아나니리요 아나니 아나니 아나니리요 아나니 아나니 아나니리요 아나니 아나니 아나니리요 아나니 아나니 아나니리요아나니 아나니 아나니리요 아나니 아나니 아나니리요 아나니 아나니 아나니리요 아나니 아나니 아나니리요 아나니 아나니 아나니리요 아나니 아나니 아나니리요"},{product_uri:"http://drive.google.com/uc?export=view&id=0B8FisuvAYPTfcDVGYVc3NEtaSEU",name:"더덕나물",who:"명이게이",when:"3:08PM",notes:" I'll be in your neighborhood doing errands"}];var accessToken;$scope.permalLink="http://drive.google.com/uc?export=view&id=",$scope.arrive=!1,$scope.authName="Authorize",$scope.isAuth=!1,$scope.init=function(){window.gapi.load("auth",$scope.authenticateWithGoogle),window.gapi.load("picker"),gapi.client.load("urlshortener","v1")},$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)},$scope.setupPicker=function(){function pickerCallback(data){if(data.action==google.picker.Action.PICKED){$scope.files=data.docs,$scope.arrive=!0;var request=gapi.client.urlshortener.url.get({shortUrl:"http://goo.gl/fbsS"});request.then(function(response){appendResults(response.result.longUrl)},function(reason){console.log("Error: "+reason.result.error.message)}),$scope.$digest()}else data.action==google.picker.Action.CANCEL}Googledrive.setupPicker(accessToken,pickerCallback)},$scope.find=function(){$scope.products=ProductByUserId.query({userId:$scope.authentication.user._id})},$scope.onChangeStatus=function(){console.log("sdfsf"),$scope.$digest()},$scope.openNewProductDialog=function(ev){$mdDialog.show({templateUrl:"modules/gdriveapps/template/newProductTemplate.html",targetEvent:ev,controller:newProductDialog,clickOutsideToClose:!1}).then(function(){$scope.alert='You said "Okay".'},function(){$scope.alert="You cancelled the dialog."})},$scope.toggleLeft=function(){$mdSidenav("left").open()},$scope.getPaymentHistory=function(){$scope.payments=Payments.query()}}]),angular.module("gdriveapps").controller("BottomSheetExample",["$scope","$timeout","$mdBottomSheet",function($scope,$timeout,$mdBottomSheet){$scope.alert="",$scope.showListBottomSheet=function($event){$mdBottomSheet.show({templateUrl:"modules/gdriveapps/views/bottom-sheet-list-template.html",controller:"ListBottomSheetCtrl",targetEvent:$event}).then(function(clickedItem){$scope.alert=clickedItem.name+" clicked!"})},$scope.showGridBottomSheet=function($event){$mdBottomSheet.show({templateUrl:"modules/gdriveapps/views/bottom-sheet-grid-template.html",controller:"GridBottomSheetCtrl",targetEvent:$event}).then(function(clickedItem){$scope.alert=clickedItem.name+" clicked!"})}}]).controller("LeftCtrl",["$scope","$timeout","$mdSidenav",function($scope,$timeout,$mdSidenav){$scope.close=function(){$mdSidenav("left").close()}}]),angular.module("gdriveapps").controller("ListBottomSheetCtrl",["$scope","$mdBottomSheet",function($scope,$mdBottomSheet){$scope.items=[{name:"Upload New Image (Google Drive)",icon:"share"},{name:"Select Existing Image (Google Drive)",icon:"upload"},{name:"Product History (Google Sheets)",icon:"copy"},{name:"Print this page (PDF Printer)",icon:"print"}],$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)}}]),angular.module("gdriveapps").controller("GridBottomSheetCtrl",["$scope","$mdBottomSheet",function($scope,$mdBottomSheet){$scope.items=[{name:"Hangout",icon:"hangout"},{name:"Mail",icon:"mail"},{name:"Message",icon:"message"},{name:"Copy",icon:"copy"},{name:"Facebook",icon:"facebook"},{name:"Twitter",icon:"twitter"}],$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)}}]),angular.module("gdriveapps").constant("CONFIG",{clientId:"574563539488-pctm7fr21vcetcfpdf9hhaje9q5vepee.apps.googleusercontent.com",apiKey:"AIzaSyAFtN5UMzS3aYUfCgd6JoixOVZRORkM1zw",scopes:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.install"]}),angular.module("gdriveapps").value("config",{clientId:"574563539488-pctm7fr21vcetcfpdf9hhaje9q5vepee.apps.googleusercontent.com",apiKey:"AIzaSyAFtN5UMzS3aYUfCgd6JoixOVZRORkM1zw",scopes:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.install"]}),angular.module("gdriveapps").controller("GdriveappsController",["$scope","$stateParams","$location","Authentication","Gdriveapps",function($scope,$stateParams,$location,Authentication,Gdriveapps){console.log($scope.authentication),$scope.create=function(){var gdriveapp=new Gdriveapps({name:this.name});gdriveapp.$save(function(response){$location.path("gdriveapps/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name=""},$scope.remove=function(gdriveapp){if(gdriveapp){gdriveapp.$remove();for(var i in $scope.gdriveapps)$scope.gdriveapps[i]===gdriveapp&&$scope.gdriveapps.splice(i,1)}else $scope.gdriveapp.$remove(function(){$location.path("gdriveapps")})},$scope.update=function(){var gdriveapp=$scope.gdriveapp;gdriveapp.$update(function(){$location.path("gdriveapps/"+gdriveapp._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.gdriveapps=Gdriveapps.query()},$scope.findOne=function(){$scope.gdriveapp=Gdriveapps.get({gdriveappId:$stateParams.gdriveappId})}}]),angular.module("gdriveapps").controller("HistoryPaymentController",["$scope","Authentication","Payments","PaymentsBySellerData",function($scope,Authentication,Payments,PaymentsBySellerData){$scope.authentication=Authentication,console.log($scope.authentication),$scope.getPaymentHistory=function(){$scope.payments=PaymentsBySellerData.query({sellerData:Authentication.user._id})}}]);var googlePlusUserLoader=function(){function disableButton(button){button.setAttribute("disabled","disabled")}function enableButton(button){button.removeAttribute("disabled")}function changeState(newState){switch(state=newState){case STATE_START:enableButton(signin_button),disableButton(xhr_button),disableButton(revoke_button);break;case STATE_ACQUIRING_AUTHTOKEN:sampleSupport.log("Acquiring token..."),disableButton(signin_button),disableButton(xhr_button),disableButton(revoke_button);break;case STATE_AUTHTOKEN_ACQUIRED:disableButton(signin_button),enableButton(xhr_button),enableButton(revoke_button)}}function xhrWithAuth(method,url,interactive,callback){function getToken(){chrome.identity.getAuthToken({interactive:interactive},function(token){return chrome.runtime.lastError?void callback(chrome.runtime.lastError):(access_token=token,void requestStart())})}function requestStart(){var xhr=new XMLHttpRequest;xhr.open(method,url),xhr.setRequestHeader("Authorization","Bearer "+access_token),xhr.onload=requestComplete,xhr.send()}function requestComplete(){401==this.status&&retry?(retry=!1,chrome.identity.removeCachedAuthToken({token:access_token},getToken)):callback(null,this.status,this.response)}var access_token,retry=!0;getToken()}function getUserInfo(interactive){xhrWithAuth("GET","https://www.googleapis.com/plus/v1/people/me",interactive,onUserInfoFetched)}function onUserInfoFetched(error,status,response){if(error||200!=status)changeState(STATE_START);else{changeState(STATE_AUTHTOKEN_ACQUIRED),sampleSupport.log(response);var user_info=JSON.parse(response);populateUserInfo(user_info)}}function populateUserInfo(user_info){user_info_div.innerHTML="Hello "+user_info.displayName,fetchImageBytes(user_info)}function fetchImageBytes(user_info){if(user_info&&user_info.image&&user_info.image.url){var xhr=new XMLHttpRequest;xhr.open("GET",user_info.image.url,!0),xhr.responseType="blob",xhr.onload=onImageFetched,xhr.send()}}function onImageFetched(){if(200==this.status){var imgElem=document.createElement("img"),objUrl=window.webkitURL.createObjectURL(this.response);imgElem.src=objUrl,imgElem.onload=function(){window.webkitURL.revokeObjectURL(objUrl)},user_info_div.insertAdjacentElement("afterbegin",imgElem)}}function interactiveSignIn(){changeState(STATE_ACQUIRING_AUTHTOKEN),chrome.identity.getAuthToken({interactive:!0},function(token){chrome.runtime.lastError?(sampleSupport.log(chrome.runtime.lastError),changeState(STATE_START)):(sampleSupport.log("Token acquired:"+token+". See chrome://identity-internals for details."),changeState(STATE_AUTHTOKEN_ACQUIRED))})}function revokeToken(){user_info_div.innerHTML="",chrome.identity.getAuthToken({interactive:!1},function(current_token){if(!chrome.runtime.lastError){chrome.identity.removeCachedAuthToken({token:current_token},function(){});var xhr=new XMLHttpRequest;xhr.open("GET","https://accounts.google.com/o/oauth2/revoke?token="+current_token),xhr.send(),changeState(STATE_START),sampleSupport.log("Token revoked and removed from cache. Check chrome://identity-internals to confirm.")}})}var signin_button,xhr_button,revoke_button,user_info_div,STATE_START=1,STATE_ACQUIRING_AUTHTOKEN=2,STATE_AUTHTOKEN_ACQUIRED=3,state=STATE_START;return{onload:function(){signin_button=document.querySelector("#signin"),signin_button.addEventListener("click",interactiveSignIn),xhr_button=document.querySelector("#getxhr"),xhr_button.addEventListener("click",getUserInfo.bind(xhr_button,!0)),revoke_button=document.querySelector("#revoke"),revoke_button.addEventListener("click",revokeToken),user_info_div=document.querySelector("#user_info"),getUserInfo(!1)}}}();angular.module("gdriveapps").provider("Weather",function(){this.setApiKey=function(key){key&&(this.apiKey=key)},this.$get=["$q","$http",function($q,$http){var self=this;return{getWeatherForecast:function(city){var d=$q.defer();return $http({method:"GET",url:self.getUrl("forecast",city),cache:!0}).success(function(data){d.resolve(data.forecast.simpleforecast)}).error(function(err){d.reject(err)}),d.promise}}}],this.getUrl=function(type,ext){return"http://api.wunderground.com/api/"+this.apiKey+"/"+type+"/p/"+ext+".json"}}).config(["WeatherProvider",function(WeatherProvider){WeatherProvider.setApiKey("963b4eccel134894a")}]),angular.module("gdriveapps").controller("WeatherController",["$scope","$timeout","Weather",function($scope,$timeout,Weather){$scope.date={};var updateTime=function(){$scope.date.raw=new Date,$timeout(updateTime,1e3)};updateTime(),$scope.weather={},Weather.getWeatherForecast("CA/San_Francisco").then(function(data){$scope.weather.forecast=data})}]),angular.module("gdriveapps").factory("gdocs",[function(){var gdocs=new GDocs;return gdocs}]),angular.module("gdriveapps").factory("Gdriveapps",["$resource",function($resource){return $resource("gdriveapps/:gdriveappId",{gdriveappId:"@_id"},{update:{method:"PUT"}})}]),angular.module("gdriveapps").factory("Googledrive",["configGdrive",function(configGdrive){function createFolder(FolderName,accessToken){var request=gapi.client.request({path:"/drive/v2/files/",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+accessToken},body:{title:FolderName,mimeType:"application/vnd.google-apps.folder"}});request.execute(function(resp){console.log(resp)})}function findFolder(callback){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({q:"title contains 'URI-'",fields:"items(id,title)"});request.then(function(resp){callback(resp)})})}function getGoogleDriveInfo(){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.about.get();request.execute(function(resp){console.log("Current user name: "+resp.name),console.log("Root folder ID: "+resp.rootFolderId),console.log("Total quota (bytes): "+resp.quotaBytesTotal),console.log("Used quota (bytes): "+resp.quotaBytesUsed)})})}function setupPicker(accessToken,callback){var callbackAfterFindFolder=function(resp){var folderID=resp.result.items[0].id,picker=(new google.picker.PickerBuilder).setOAuthToken(accessToken).setDeveloperKey(configGdrive.developerKey).addView((new google.picker.DocsUploadView).setParent(folderID)).addView((new google.picker.DocsView).setParent(folderID)).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).setLocale("ko").setCallback(callback).build();picker.setVisible(!0)};findFolder(callbackAfterFindFolder)}function listFolder(){gapi.client.load("drive","v2").then(function(){var request=gapi.client.drive.files.list({maxResults:10,fields:"items(id,owners(displayName,emailAddress,isAuthenticatedUser,kind,permissionId),selfLink)"});request.then(function(resp){console.log("result File list"),console.log(resp)});var request=gapi.client.drive.files.list({maxResults:10,fields:"items(id,owners(displayName,emailAddress,isAuthenticatedUser,kind,permissionId),selfLink)"});request.then(function(resp){console.log("result File list"),console.log(resp)})})}return{createFolder:createFolder,findFolder:findFolder,getGoogleDriveInfo:getGoogleDriveInfo,setupPicker:setupPicker,listFolder:listFolder}}]),angular.module("gdriveapps").factory("GooglePlus",[function(){function callGooglePlus(callback){gapi.client.load("plus","v1").then(function(){var request=gapi.client.plus.people.get({userId:"me"});request.then(callback,function(reason){console.log("Error: "+reason.result.error.message)})})}return{callGooglePlus:callGooglePlus}}]),angular.module("opencpu").run(["Menus",function(){}]),angular.module("opencpu").config(["$stateProvider",function($stateProvider){$stateProvider.state("gwas-t1",{url:"/gwas-t1",templateUrl:"modules/opencpu/views/gwas-t1.client.view.html"})}]),angular.module("opencpu").controller("GwasT1Controller",["$scope","Getrresult","Readcsv",function($scope,Getrresult,Readcsv){$scope.example1={src:'library(rCharts)\nhair_eye_male <- subset(as.data.frame(HairEyeColor), Sex == "Male")\nnPlot(Freq ~ Hair, group = "Eye", data = hair_eye_male, type = "multiBarChart")',title:"Multi Bar Chart (NVD3)",content:"I demonstrate my all time favorite d3js library, NVD3, which produces amazing interactive visualizations with little customization."},$scope.example2={src:'library(rCharts)\ndata(economics, package = "ggplot2")\necon <- transform(economics, date = as.character(date))\nmPlot(x = "date", y = c("psavert", "uempmed"), type = "Line", data = econ, pointSize = 0, lineWidth = 1)',title:"Stock Info (Morris)",content:"The next library I will be exploring is MorrisJS"},$scope.example3={src:'library(rCharts)\nrPlot(mpg ~ wt | am + vs, data = mtcars, type = "point", color = "gear")',title:"Stock Info (Morris)",content:"The next library I will be exploring is MorrisJS"},$scope.example4={src:'library(rCharts)\nhPlot(x = "Wr.Hnd", y = "NW.Hnd", data = MASS::survey, type = c("line", "bubble", "scatter"), group = "Clap", size = "Age")',title:"Stock Info (HighCharts)",content:"The next library I will be exploring is HighCharts"};var test=new Readcsv("fileName");test.readFile().then(function(result){console.debug(result)})}]),angular.module("opencpu").directive("rChart",[function(){return{templateUrl:"/modules/opencpu/directives/r-chart.html",scope:{rSource:"="},restrict:"E",link:function(scope,element){scope.aceOptions={theme:"solarized_dark",mode:"r",useWrapMode:!0},ocpu.seturl("//kruny1001.ocpu.io/pbshop/R"),scope.makeChart=function(example){var req=ocpu.call("make_chart",{text:example.src},function(session){element.find("iframe").attr("src",session.getLoc()+"files/output.html")}).fail(function(){alert("Error: "+req.responseText)})},scope.makeChart(scope.rSource)}}}]),angular.module("opencpu").factory("Getrresult",[function(){return function(title,type){this.id=_.uniqueId("movie"),this.title=title,this.type=type,this.charge=function(daysRented){return this[this.chargeFunctionNmae()](daysRented)},this.chargeFunctionName=function(){return this.type.titleize().split(" ").join("").camelize()+"Charge"},this.regularCharge=function(daysRented){return daysRented>2?2+1.5*(daysRented-2):2},this.newReleaseCharge=function(daysRented){return 3*daysRented},this.childrensCharge=function(daysRented){return daysRented>3?1.5+1.5*(daysRented-3):1.5}}}]),angular.module("opencpu").factory("Readcsv",["$http",function($http){return function(fileName){this.id=_.uniqueId("csv"),this.fileName=fileName,this.readFile=function(){var URL="modules/opencpu/data/introduction.json";return $http.get(URL)},this.writeData=function(data){console.debug("wrtieData function is invoked"),console.debug(data)}}}]),angular.module("payments").run(["Menus",function(){}]),angular.module("payments").config(["$stateProvider",function($stateProvider){$stateProvider.state("listPayments",{url:"/payments",templateUrl:"modules/payments/views/list-payments.client.view.html"}).state("createPayment",{url:"/payments/create",templateUrl:"modules/payments/views/create-payment.client.view.html"}).state("viewPayment",{url:"/payments/:paymentId",templateUrl:"modules/payments/views/view-payment.client.view.html"}).state("editPayment",{url:"/payments/:paymentId/edit",templateUrl:"modules/payments/views/edit-payment.client.view.html"})}]),angular.module("payments").controller("PaymentsController",["$scope","$stateParams","$location","Authentication","Payments",function($scope,$stateParams,$location,Authentication,Payments){$scope.authentication=Authentication,$scope.create=function(){var payment=new Payments({name:this.name});payment.$save(function(response){$location.path("payments/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(payment){if(payment){payment.$remove();for(var i in $scope.payments)$scope.payments[i]===payment&&$scope.payments.splice(i,1)}else $scope.payment.$remove(function(){$location.path("payments")})},$scope.update=function(){var payment=$scope.payment;payment.$update(function(){$location.path("payments/"+payment._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.payments=Payments.query()},$scope.findOne=function(){$scope.payment=Payments.get({paymentId:$stateParams.paymentId})}}]),angular.module("payments").factory("Payments",["$resource",function($resource){return $resource("payments/:paymentId",{paymentId:"@_id"},{update:{method:"PUT"}})}]),angular.module("payments").factory("PaymentsBySellerData",["$resource",function($resource){return $resource("payments/:sellerData",{sellerData:"@sellerData"},{})}]),angular.module("products").config(["$stateProvider",function($stateProvider){$stateProvider.state("listProducts",{url:"/products",templateUrl:"modules/products/views/list-products.client.view.html"}).state("listProductsUnderBanner",{url:"/products/list/:bannerId",templateUrl:"modules/products/views/list-products-banner.client.view.html"}).state("createProduct",{url:"/products/create/:bannerId",templateUrl:"modules/products/views/create-product.client.view.html"}).state("viewProduct",{url:"/products/:productId",templateUrl:"modules/products/views/view-product.client.view.html"}).state("editProduct",{url:"/products/:productId/edit",templateUrl:"modules/products/views/edit-product.client.view.html"})}]),angular.module("products").controller("ProductsController",["$scope","$stateParams","$location","Authentication","Products","Banners","ProductsBanner",function($scope,$stateParams,$location,Authentication,Products,Banners,ProductsBanner){$scope.authentication=Authentication,$scope.parentId=$stateParams.bannerId,$scope.create=function(){var product=new Products({name:this.name,mainimg:this.mainimg,imgs:this.imgs,price:this.price,description:this.description,parentId:$scope.parentId});product.$save(function(response){$location.path("products/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name="",this.mainimg="",this.imgs="",this.price=0,this.description=""},$scope.remove=function(product){if(product){product.$remove();for(var i in $scope.products)$scope.products[i]===product&&$scope.products.splice(i,1)}else $scope.product.$remove(function(){$location.path("products")})},$scope.update=function(){var product=$scope.product;product.$update(function(){$location.path("products/"+product._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.products=Products.query()},$scope.findBanners=function(){$scope.banners=Banners.query()},$scope.findOne=function(){$scope.product=Products.get({productId:$stateParams.productId})},$scope.findProductUnderBanner=function(){console.log("banner id is "+$scope.parentId),$scope.products=ProductsBanner.query({},{bannerId:$scope.parentId})}}]),angular.module("products").factory("ProductsBanner",["$resource",function($resource){return $resource("products/list/:bannerId",{bannerId:"@bannerId"},{update:{method:"PUT"},query:{method:"GET",isArray:!0}})}]),angular.module("products").factory("ProductByUserId",["$resource",function($resource){return $resource("products/find/:userId",{userId:"@userId"},{update:{method:"PUT"},query:{method:"GET",isArray:!0}})}]),angular.module("products").factory("Products",["$resource",function($resource){return $resource("products/:productId",{productId:"@_id"},{update:{method:"PUT"}})}]),angular.module("reviews").run(["Menus",function(){}]),angular.module("reviews").config(["$stateProvider",function($stateProvider){$stateProvider.state("listReviews",{url:"/reviews",templateUrl:"modules/reviews/views/list-reviews.client.view.html"}).state("createReview",{url:"/reviews/create",templateUrl:"modules/reviews/views/create-review.client.view.html"}).state("viewReview",{url:"/reviews/:reviewId",templateUrl:"modules/reviews/views/view-review.client.view.html"}).state("editReview",{url:"/reviews/:reviewId/edit",templateUrl:"modules/reviews/views/edit-review.client.view.html"})}]),angular.module("reviews").controller("ReviewsController",["$scope","$stateParams","$location","Authentication","Reviews",function($scope,$stateParams,$location,Authentication,Reviews){$scope.authentication=Authentication,$scope.create=function(){var review=new Reviews({name:this.name});review.$save(function(response){$location.path("reviews/"+response._id)},function(errorResponse){$scope.error=errorResponse.data.message}),this.name=""},$scope.remove=function(review){if(review){review.$remove();for(var i in $scope.reviews)$scope.reviews[i]===review&&$scope.reviews.splice(i,1)}else $scope.review.$remove(function(){$location.path("reviews")})},$scope.update=function(){var review=$scope.review;review.$update(function(){$location.path("reviews/"+review._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.reviews=Reviews.query()},$scope.findOne=function(){$scope.review=Reviews.get({reviewId:$stateParams.reviewId})}}]),angular.module("reviews").factory("Reviews",["$resource",function($resource){return $resource("reviews/:reviewId",{reviewId:"@_id"},{update:{method:"PUT"}})}]),angular.module("seller-interface").config(["$stateProvider",function($stateProvider){$stateProvider.state("listing-product",{url:"/",templateUrl:"modules/seller-interface/views/listing-product.client.view.html"})}]),angular.module("seller-interface").controller("ListingProductController",["$scope","$log","$mdDialog","$mdToast","Products","GetPurchaseJWT",function($scope,$log,$mdDialog,$mdToast,Products,GetPurchaseJWT){function partition(input,size){for(var newArr=[],i=0;i<input.length;i+=size)newArr.push(input.slice(i,i+size));return newArr}function DialogController($scope,$mdDialog){$scope.hide=function(){$mdDialog.hide()},$scope.cancel=function(){$mdDialog.cancel()},$scope.answer=function(answer){$mdDialog.hide(answer)}}$scope.openToast=function(){$mdToast.show({template:"<md-toast>Hello!</md-toast>",hideDelay:3e3})},$scope.items=[{name:"Upload New Image (Google Drive)",icon:"share"},{name:"Select Existing Image (Google Drive)",icon:"upload"},{name:"Product History (Google Sheets)",icon:"copy"},{name:"Print this page (PDF Printer)",icon:"print"}],$scope.find=function(){$scope.products=Products.query(),$scope.products.$promise.then(function(result){console.log("Done querying products"),$scope.partitioned=partition(result,3),console.log($scope.partitioned)})},$scope.testColumnSystem=function(numberOfColumn){$scope.partitioned=partition($scope.products,numberOfColumn),$scope.$digest()},$scope.listItemClick=function($index){var clickedItem=$scope.items[$index];$mdBottomSheet.hide(clickedItem)},$scope.purchaseProduct=function(productID){GetPurchaseJWT.query({productID:productID}).$promise.then(function(response){console.log(response[0]),google.payments.inapp.buy({parameters:{},jwt:response[0],success:function(){window.alert("success")},failure:function(){window.alert("failure")}})})},$scope.dialogAdvanced=function(ev){$log.debug("dialogAdvanced() preparing to show..."),$mdDialog.show({templateUrl:"modules/seller-interface/views/dialogtest.html",targetEvent:ev,controller:DialogController,onComplete:function(){$log.debug("dialogAdvanced() now shown!")}}).then(function(answer){$scope.alert='You said the information was "'+answer+'".'},function(){$scope.alert="You cancelled the dialog."})}}]),angular.module("seller-interface").directive("selectImg",[function(){return{restrict:"A",scope:{value:"=mySlider",index:"@",onChangeStatus:"&"},link:function(scope,element){var isClicked=!1;element.bind("click",function(){console.log("click"),isClicked?(TweenLite.to(this,.3,{borderColor:"#ffffff"}),isClicked=!1,scope.value.selected=!1,scope.onChangeStatus()):(TweenLite.to(this,.3,{borderColor:"#FF5F49"}),isClicked=!0,scope.value.selected=!0,scope.onChangeStatus())})}}}]),angular.module("seller-interface").directive("selectSection",[function(){return{restrict:"A",scope:{},link:function(scope,element){element.bind("mouseenter",function(){TweenLite.to(this,.3,{backgroundColor:"rgb(187, 194, 239)"}),console.log("mouse enter")}),element.bind("mouseleave",function(){TweenLite.to(this,.3,{backgroundColor:"#F5F5F5"}),console.log("mouse leave")})}}}]),angular.module("shop-list").config(["$stateProvider",function($stateProvider){$stateProvider.state("detail-product",{url:"/detail-product/:productId",templateUrl:"modules/shop-list/views/detail-product.client.view.html"}).state("products-list",{url:"/products-list",templateUrl:"modules/shop-list/views/products-list.client.view.html"})}]),angular.module("shop-list").controller("DetailProductController",["$scope","$stateParams","$sce","Products","GetPurchaseJWT","Payments","configGdrive",function($scope,$stateParams,$sce,Products,GetPurchaseJWT,Payments,configGdrive){function announceDeselected(tab){$scope.farewell="Goodbye "+tab.title+"!"}function announceSelected(tab){$scope.greeting="Hello "+tab.title+"!"}function buttonReady(params){"SUCCESS"==params.status&&("interactive"===document.readyState||"complete"==document.readyState||"loaded"==document.readyState?document.getElementById("wallet-button-holder").appendChild(params.walletButtonElement):document.addEventListener("DOMContentLoaded",function(){document.getElementById("wallet-button-holder").appendChild(params.walletButtonElement)}))}function handleAuthentication(){console.log(configGdrive.clientId),google.wallet.online.authorize({clientId:configGdrive.clientId,callback:function(result){console.log(result),google.wallet.online.createWalletButton({jwt:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiIwODI0MzM2MjAwNzE3NDcwMDQ2NiIsImF1ZCI6Ikdvb2dsZSIsInR5cCI6Imdvb2dsZS93YWxsZXQvb25saW5lL21hc2tlZC92Mi9yZXF1ZXN0IiwiaWF0IjoxNDE1ODU5MTYzLCJleHAiOjE2NzI0NjY0MDAwMDAsInJlcXVlc3QiOnsiY2xpZW50SWQiOiI1NzQ1NjM1Mzk0ODgtbjB2cmV2Z2pwMzYwNmwyMGhmazRycWZrMWRjOGozcWIuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJtZXJjaGFudE5hbWUiOiJwYlNob3AiLCJvcmlnaW4iOiJodHRwOi8vbG9jYWxob3N0OjMwMDAvIiwicGhvbmVOdW1iZXJSZXF1aXJlZCI6dHJ1ZSwicGF5Ijp7ImVzdGltYXRlZFRvdGFsUHJpY2UiOiIxNS4wMSIsImN1cnJlbmN5Q29kZSI6IlVTRCJ9LCJzaGlwIjp7fX19.ayFuAfhYnlzBWNlJxbuwHT2o-4k01tZ2x41c9_fzeJk",success:createWalletButtonSuccessCallback,failure:createWalletButtonFailureCallback,ready:buttonReady,height:"44",width:"230"})}})}var productId=$stateParams.productId;$scope.quantity=1;var tabs=[{title:"반품/배송/교환 문의",content:"No Contents"},{title:"상세 상품설명",content:""},{title:"상품분석평/상품문의",content:"No Contents"}];$scope.findOne=function(){Products.get({productId:productId}).$promise.then(function(value){$scope.product=value,tabs[1].content=$sce.trustAsHtml(value.detailDesc)})},$scope.tabs=tabs,$scope.selectedIndex=1,$scope.announceSelected=announceSelected,$scope.announceDeselected=announceDeselected,$scope.addTab=function(title,view){view=view||title+" Content View",tabs.push({title:title,content:view,disabled:!1,style:style})},$scope.removeTab=function(tab){for(var j=0;j<tabs.length;j++)if(tab.title==tabs[j].title){$scope.tabs.splice(j,1);break}},$scope.from_one={from_one:"bold data in controller in from_one.js"};$scope.authenticateWithGoogle=function(){window.gapi.auth.authorize({client_id:configGdrive.clientId,scope:configGdrive.scopes,immediate:!1},handleAuthentication)
};var createWalletButtonSuccessCallback=function(param){wallet.transactionId=param.response.response.googleTransactionId,console.log("Masked Wallet Response:"+JSON.stringify(param.response))},createWalletButtonFailureCallback=function(error){console.log("There was an error getting the Masked Wallet: "+JSON.stringify(error))};$scope.testPurchaseProduct=function(){google.wallet.online.setAccessToken("[accessToken]")},$scope.purchaseProduct=function(productID,quantity){console.log(productID),console.log(quantity);var optdesc="주문수량: "+quantity+"개";GetPurchaseJWT.query({productID:productID,qty:quantity,optdesc:optdesc}).$promise.then(function(response){google.payments.inapp.buy({parameters:{},jwt:response[0],success:function(result){console.log(result.jwt),createPaymentHistory(result)},failure:function(){window.alert("Your Payment transaction is failed")}})})};var createPaymentHistory=function(result){var payment=new Payments({name:result.request.name,price:Number(result.request.price),sellerData:result.request.sellerData,description:result.request.description,currencyCode:result.request.currencyCode,orderID:result.response.orderId});payment.$save(function(){},function(errorResponse){$scope.error=errorResponse.data.message})}}]),angular.module("shop-list").controller("ProductslistController",["$scope","$state","$resource","$q","Allproducts","AllBanners","GetPurchaseJWT",function($scope,$state,$resource,$q,Allproducts,AllBanners,GetPurchaseJWT){$scope.products=[],$scope.banners=[],$scope.products=Allproducts.query(),$scope.banners=AllBanners.query(),$scope.editProducts=function(productID){console.log("Product Edit Button"),$state.go("editProduct",{productId:productID})},$scope.deleteProducts=function(productID){console.log("Product Delete Button"),Allproducts.delete({productID:productID}),$scope.products=Allproducts.query()},$scope.zoomIn=function(element){TweenLite.to(element.currentTarget,.5,{scale:5})},$scope.zoomOut=function(element){TweenLite.to(element.currentTarget,.5,{scale:1})},$scope.purchaseProduct=function(productID){console.log(productID),GetPurchaseJWT.query({productID:productID}).$promise.then(function(response){console.log(response[0]),google.payments.inapp.buy({parameters:{},jwt:response[0],success:function(){window.alert("success")},failure:function(){window.alert("failure")}})})}}]),angular.module("shop-list").factory("Allproducts",["$resource",function($resource){return $resource("products/:productID",{productID:"@_id"})}]),angular.module("shop-list").factory("AllBanners",["$resource",function($resource){return $resource("banners",{productID:"@_id"})}]),angular.module("shop-list").factory("GetPurchaseJWT",["$resource",function($resource){return $resource("purchase/gw_test/:productID/:qty/:optdesc",{productID:"@_id",qty:"@qty",optdesc:"@optdesc"},{query:{method:"get",isArray:!0}})}]),angular.module("shop-list").factory("",["$resource",function($resource){return $resource("",{},{query:{method:"get",isArray:!0},insert:{method:"post"}})}]),angular.module("template").config(["$stateProvider",function($stateProvider){$stateProvider.state("banners-gallery",{url:"/banners-gallery",templateUrl:"modules/template/views/banners-gallery.client.view.html"}).state("test-font-animation",{url:"/test-font-animation",templateUrl:"modules/template/views/test-font-animation.client.view.html"}).state("draggable",{url:"/draggable",templateUrl:"modules/template/views/draggable.client.view.html"}).state("set-row-col",{url:"/setrowcol",templateUrl:"modules/template/views/set-row-col.client.view.html"})}]),angular.module("template").controller("BannersgalleryController",["$scope",function(){}]),angular.module("template").controller("DraggableController",["$scope","$element",function(){function update(){Draggable.create(".box",{bounds:container,edgeResistance:.65,type:"x,y",throwProps:!0,liveSnap:liveSnap,snap:{x:function(endValue){return snap||liveSnap?Math.round(endValue/gridWidth)*gridWidth:endValue},y:function(endValue){return snap||liveSnap?Math.round(endValue/gridHeight)*gridHeight:endValue}}})}var i,x,y,snap=angular.element(document.querySelector("#snap")),liveSnap=angular.element(document.querySelector("#liveSnap")),container=angular.element(document.querySelector("#container")),gridWidth=196,gridHeight=100,gridRows=6,gridColumns=5;for(i=0;gridRows*gridColumns>i;i++)y=Math.floor(i/gridColumns)*gridHeight,x=i*gridWidth%(gridColumns*gridWidth);TweenLite.set(container,{height:gridRows*gridHeight+1,width:gridColumns*gridWidth+1}),TweenLite.set(".box",{width:gridWidth,height:gridHeight,lineHeight:gridHeight+"px"}),update()}]),angular.module("template").controller("SetrowcolController",["$scope",function($scope){$scope.title="Set Row and Col"}]),angular.module("template").controller("TestfontanimationController",["$scope",function($scope){$scope.title="Set Row and Col"}]),angular.module("template").directive("bannerFront",[function(){return{templateUrl:"modules/template/directives/banner-front.html",restrict:"E",link:function(scope){function updateSlider(){}var tl=new TimelineLite({onUpdate:updateSlider});tl.set("#content",{visibility:"visible"}).from("h1",.5,{left:100,autoAlpha:0}).from("h2",.5,{left:-100,autoAlpha:0},"-=0.25").from("#feature",.5,{scale:.5,autoAlpha:0},"feature").from("#description",.5,{left:100,autoAlpha:0},"feature+=0.25").staggerFrom("#nav img",.5,{scale:0,rotation:-180,autoAlpha:0},.2,"stagger"),scope.play=function(){1!=tl.progress()?tl.play():tl.restart()},scope.pause=function(){tl.pause()},scope.reverse=function(){tl.reverse()},scope.resume=function(){tl.resume()},scope.restart=function(){tl.restart()}}}}]),angular.module("template").directive("octopusBanner",[function(){return{templateUrl:"modules/template/tmpl/octopusBanner.tmpl.html",restrict:"E",link:function(){function startLoading(){TweenMax.to($("#text"),5,{opacity:0,top:"680px"})}TweenLite.delayedCall(4,startLoading)}}}]),angular.module("template").directive("setRowCol",[function(){return{template:"<div></div>",restrict:"E",link:function(scope,element){element.text("this is the setRowCol directive")}}}]),angular.module("users").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication",function($q,$location,Authentication){return{responseError:function(rejection){switch(rejection.status){case 401:Authentication.user=null,$location.path("signin");break;case 403:}return $q.reject(rejection)}}}])}]),angular.module("users").config(["$stateProvider",function($stateProvider){$stateProvider.state("profile",{url:"/settings/profile",templateUrl:"modules/users/views/settings/edit-profile.client.view.html"}).state("password",{url:"/settings/password",templateUrl:"modules/users/views/settings/change-password.client.view.html"}).state("accounts",{url:"/settings/accounts",templateUrl:"modules/users/views/settings/social-accounts.client.view.html"}).state("signup",{url:"/signup",templateUrl:"modules/users/views/signup.client.view.html"}).state("signin",{url:"/signin",templateUrl:"modules/users/views/signin.client.view.html"})}]),angular.module("users").controller("AuthenticationController",["$scope","$http","$location","Authentication","AuthTokenFactory",function($scope,$http,$location,Authentication,AuthTokenFactory){$scope.authentication=Authentication,$scope.authentication.user&&$location.path("/"),$scope.signup=function(){$http.post("/auth/signup",$scope.credentials).success(function(response){$scope.authentication.user=response,$location.path("/")}).error(function(response){$scope.error=response.message})},$scope.signin=function(){$http.post("/auth/signin",$scope.credentials).success(function(response){$scope.authentication.user=response.user,AuthTokenFactory.setToken(response.token),$location.path("/")}).error(function(response){$scope.error=response.message})}}]),angular.module("users").controller("SettingsController",["$scope","$http","$location","Users","Authentication",function($scope,$http,$location,Users,Authentication){$scope.user=Authentication.user,$scope.user||$location.path("/"),$scope.hasConnectedAdditionalSocialAccounts=function(){for(var i in $scope.user.additionalProvidersData)return!0;return!1},$scope.isConnectedSocialAccount=function(provider){return $scope.user.provider===provider||$scope.user.additionalProvidersData&&$scope.user.additionalProvidersData[provider]},$scope.removeUserSocialAccount=function(provider){$scope.success=$scope.error=null,$http.delete("/users/accounts",{params:{provider:provider}}).success(function(response){$scope.success=!0,$scope.user=Authentication.user=response}).error(function(response){$scope.error=response.message})},$scope.updateUserProfile=function(){$scope.success=$scope.error=null;var user=new Users($scope.user);user.$update(function(response){$scope.success=!0,Authentication.user=response},function(response){$scope.error=response.data.message})},$scope.changeUserPassword=function(){$scope.success=$scope.error=null,$http.post("/users/password",$scope.passwordDetails).success(function(){$scope.success=!0,$scope.passwordDetails=null}).error(function(response){$scope.error=response.message})}}]),angular.module("users").factory("AuthTokenFactory",["$window",function($window){function getToken(){return store.getItem(key)}function setToken(token){token?store.setItem(key,token):store.removeItem(key)}var store=$window.localStorage,key="auth-token-kev";return{getToken:getToken,setToken:setToken}}]),angular.module("users").factory("Authentication",[function(){var _this=this;return _this._data={user:window.user},_this._data}]),angular.module("users").factory("Users",["$resource",function($resource){return $resource("users",{},{update:{method:"PUT"}})}]);